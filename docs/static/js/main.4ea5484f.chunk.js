(this.webpackJsonpkarteweb=this.webpackJsonpkarteweb||[]).push([[0],{181:function(e){e.exports=JSON.parse('[{"displayName":"\u8f38\u8840\u5b9f\u65bd","description":"Transfusion","navigation":"/transfusioncheck"},{"displayName":"\u8f38\u8840\u5b9f\u65bd(demo)","description":"Transfusion","navigation":"/transfusion"},{"displayName":"\u6ce8\u5c04\u5b9f\u65bd","description":"Options","navigation":"/"},{"displayName":"\u6ce8\u5c04\u5b9f\u65bd(demo)","description":"Options","navigation":"/injectionexecute/2310/4291359"}]')},182:function(e){e.exports=JSON.parse('{"name":"karteweb","version":"0.1.0","private":true,"homepage":"https://act-sakamoto.github.io/pwa-sample","dependencies":{"@emotion/react":"^11.4.1","@emotion/styled":"^11.3.0","@ericblade/quagga2":"^1.4.2","@hookform/resolvers":"^2.8.3","@mui/icons-material":"^5.0.3","@mui/lab":"^5.0.0-alpha.49","@mui/material":"^5.0.1","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^12.0.0","@testing-library/user-event":"^13.2.1","@types/jest":"^27.0.1","@types/node":"^16.6.1","@types/react":"^17.0.0","@types/react-dom":"^17.0.0","date-fns":"^2.24.0","history":"^5.0.1","ky":"^0.28.7","react":"^17.0.2","react-dom":"^17.0.2","react-error-boundary":"^3.1.4","react-hook-form":"^7.20.2","react-router":"^6.0.2","react-router-dom":"^6.0.2","react-scripts":"4.0.3","typescript":"^4.3.5","web-vitals":"^2.1.0","workbox-background-sync":"^5.1.3","workbox-broadcast-update":"^5.1.3","workbox-cacheable-response":"^5.1.3","workbox-core":"^5.1.3","workbox-expiration":"^5.1.3","workbox-google-analytics":"^5.1.3","workbox-navigation-preload":"^5.1.3","workbox-precaching":"^5.1.3","workbox-range-requests":"^5.1.3","workbox-routing":"^5.1.3","workbox-strategies":"^5.1.3","workbox-streams":"^5.1.3","yup":"^0.32.11"},"scripts":{"start":"craco start","build":"craco build","test":"craco test","eject":"craco eject","lint":"npm run -s lint:style; npm run -s lint:es","fix":"npm run -s format && npm run -s lint:fix","format":"prettier --write --loglevel=warn \'{public,src}/**/*.{js,jsx,ts,tsx,html,gql,graphql,json}\'","lint:fix":"npm run -s lint:style:fix && npm run -s lint:es:fix","lint:es":"eslint \'src/**/*.{js,jsx,ts,tsx}\'","lint:es:fix":"eslint --fix \'src/**/*.{js,jsx,ts,tsx}\'","lint:conflict":"eslint --print-config .eslintrc.js | eslint-config-prettier-check","lint:style":"stylelint \'src/**/*.{css,less,sass,scss}\'","lint:style:fix":"stylelint --fix \'src/**/*.{css,less,sass,scss}\'","preinstall":"typesync || :","prepare":"simple-git-hooks > /dev/null"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@craco/craco":"^6.4.3","@types/prettier":"^2.3.2","@types/react-router":"^5.1.16","@types/react-router-dom":"^5.1.8","@types/stylelint":"^13.13.1","@types/testing-library__jest-dom":"^5.14.1","@types/testing-library__user-event":"^4.2.0","@types/yup":"^0.29.13","@typescript-eslint/eslint-plugin":"^4.29.2","@typescript-eslint/parser":"^4.29.2","eslint-config-airbnb":"^18.2.1","eslint-config-prettier":"^8.3.0","eslint-import-resolver-typescript":"^2.5.0","eslint-plugin-import":"^2.24.0","eslint-plugin-jsx-a11y":"^6.4.1","eslint-plugin-prefer-arrow":"^1.2.3","eslint-plugin-react":"^7.24.0","eslint-plugin-react-hooks":"^4.2.0","lint-staged":"^11.1.2","msw":"^0.36.3","prettier":"^2.3.2","simple-git-hooks":"^2.6.1","stylelint":"^13.13.1","stylelint-config-recess-order":"^2.5.0","stylelint-config-standard":"^22.0.0","stylelint-order":"^4.1.0"},"simple-git-hooks":{"pre-commit":"npx lint-staged"},"lint-staged":{"src/**/*.{js,jsx,ts,tsx}":["prettier --write --loglevel=error","eslint --fix --quiet"],"src/**/*.{css,less,sass,scss}":["stylelint --fix --quiet"],"{public,src}/**/*.{html,gql,graphql,json}":["prettier --write --loglevel=error"]},"msw":{"workerDirectory":"public"}}')},341:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(65),i=n.n(c),o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/.exec(window.location.hostname));function s(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u=n(16),l=n(69),d=n(11),j=n.n(d),b=n(17),f=n(4),x=n(198),O=x.a.create({prefixUrl:"https://stoplight.io/mocks/ryu19j/karte/34129171"}),p=O,m=n(0),v=Object(r.createContext)(null),h=Object(r.createContext)({login:function(e){return new Error("Provider\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093")},logout:function(){return new Error("Provider\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093")}}),g=function(){return Object(r.useContext)(v)},y=function(e){var t=e.children,n=Object(r.useState)(null),a=Object(f.a)(n,2),c=a[0],i=a[1],o=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.staffId,r=t.password,e.prev=1,e.next=4,p.post("login",{json:{staffId:n,password:r},timeout:!1}).json();case 4:a=e.sent,console.log(a),a.loggedIn&&i(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i({loggedIn:!0,staffId:"99999999",staffName:"\u30c6\u30b9\u30c8\u8077\u54e1"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(h.Provider,{value:{login:o,logout:function(){i(null)}},children:Object(m.jsx)(v.Provider,{value:c,children:t})})},I=n(20),S=n(418),w=n(383),C=n(419),k=n(425),D=n(43),E=n(123),N=n(81),T=N.a({staffId:N.b().required("\u8077\u54e1ID\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),password:N.b().required("\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002")}),F=function(e){var t,n,r=e.onLogin,a=Object(D.e)({resolver:Object(E.a)(T)}),c=a.register,i=a.handleSubmit,o=a.formState.errors;return Object(m.jsx)(S.a,{maxWidth:"sm",children:Object(m.jsxs)(w.a,{spacing:2,children:[Object(m.jsx)(C.a,Object(I.a)({id:"staff-id",label:"\u8077\u54e1ID",type:"number",required:!0,defaultValue:"10008",error:"staffId"in o,helperText:null===(t=o.staffId)||void 0===t?void 0:t.message},c("staffId"))),Object(m.jsx)(C.a,Object(I.a)({id:"staff-password",label:"\u30d1\u30b9\u30ef\u30fc\u30c9",type:"password",required:!0,defaultValue:"Llanowar12$",autoComplete:"current-password",error:"password"in o,helperText:null===(n=o.password)||void 0===n?void 0:n.message},c("password"))),Object(m.jsx)(k.a,{variant:"contained",onClick:i((function(e){var t=e.staffId,n=e.password;r(t,n)})),children:"\u30ed\u30b0\u30a4\u30f3"})]})})},A=function(){var e=Object(r.useContext)(h).login;return Object(m.jsx)(F,{onLogin:function(t,n){e({staffId:t,password:n})}})},H=n(428),L=n(416),M=n(426),P=n(99),R=n(427),z=n(429),W=n(181),V=function(e){var t=e.displayName,n=e.description,r=e.navigation,a=Object(u.h)();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(M.a,{children:[Object(m.jsx)(P.a,{variant:"h5",component:"div",children:t}),Object(m.jsx)(P.a,{sx:{mb:1.5},color:"text.secondary",children:n})]}),Object(m.jsx)(R.a,{children:Object(m.jsx)(k.a,{variant:"contained",size:"large",onClick:function(){return a(r)},children:"Start"})})]})},q=function(){return Object(m.jsx)(H.a,{sx:{flexGrow:1},children:Object(m.jsx)(L.a,{container:!0,spacing:1,children:W.map((function(e){var t=e.displayName,n=e.description,r=e.navigation;return Object(m.jsx)(L.a,{item:!0,xs:6,children:Object(m.jsx)(z.a,{variant:"outlined",children:Object(m.jsx)(V,{displayName:t,description:n,navigation:r})})},t)}))})})},B=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(q,{})})},_=function(){return Object(m.jsx)(B,{})},G=n(434),U=n(399),K=n(417),J=n(413),Y=n(414),X=n(395),$=n(410),Q=n(396),Z=n(397),ee=n(186),te=n.n(ee),ne=n(183),re=n.n(ne),ae=n(5),ce=n(392),ie=n(393),oe=n(182),se=Object(ae.a)("div")((function(){return{width:250}})),ue=Object(ae.a)("div")((function(){return{height:150,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1em",backgroundColor:ce.a[500],color:"#ffffff"}})),le=Object(ae.a)(J.a)((function(e){var t=e.theme;return{backgroundColor:ie.a[500],width:t.spacing(6),height:t.spacing(6)}})),de=function(e){var t=e.drawerOpen,n=void 0!==t&&t,r=e.toggleDrawer,a=e.onOpen;return Object(m.jsx)(Y.a,{variant:"temporary",open:n,onClose:r,children:Object(m.jsxs)(se,{role:"presentation",onClick:r,children:[Object(m.jsxs)(ue,{children:[Object(m.jsx)(le,{children:Object(m.jsx)(re.a,{})}),Object(m.jsxs)("p",{children:["Version : v",oe.version]})]}),Object(m.jsxs)(K.a,{children:[Object(m.jsx)(X.a,{}),Object(m.jsxs)($.a,{button:!0,onClick:a,"aria-label":"share",children:[Object(m.jsx)(Q.a,{children:Object(m.jsx)(te.a,{})}),Object(m.jsx)(Z.a,{secondary:"\u3053\u306e\u30a2\u30d7\u30ea\u3092\u5171\u6709"})]})]})]})})},je=n(84),be=n.n(je),fe=n(430),xe=n(433),Oe=n(431),pe=n(432),me=n(398),ve=Object(ae.a)(fe.a)((function(){return{fontFamily:"-apple-system, BlinkMacSystemFont, Roboto, sans-serif"}})),he=function(e){var t=e.message,n=void 0===t?"\u672c\u5f53\u306b\u3054\u307f\u7bb1\u3092\u5b8c\u5168\u306b\u7a7a\u306b\u3057\u307e\u3059\u304b\uff1f":t,r=e.alertOpen,a=e.toggleAlert,c=e.onEmpty;return Object(m.jsxs)(ve,{open:r,onClose:a,children:[Object(m.jsx)(me.a,{children:"\u30d0\u30fc\u30b3\u30fc\u30c9\u8aad\u53d6"}),Object(m.jsx)(Oe.a,{children:Object(m.jsx)(pe.a,{children:n.split(/(\n)/).filter((function(e){return null===/\n/.exec(e)})).map((function(e){return Object(m.jsx)(P.a,{children:e})}))})}),Object(m.jsxs)(xe.a,{children:[Object(m.jsx)(k.a,{onClick:a,color:"primary","aria-label":"cancel",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),Object(m.jsx)(k.a,{onClick:function(){a(),c()},color:"secondary","aria-label":"ok",autoFocus:!0,children:"OK"})]})]})},ge=function(e){var t=e.onScan,n=Object(r.useState)(""),a=Object(f.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)(0),s=Object(f.a)(o,2),u=s[0],l=s[1],d=Object(r.useState)(!1),j=Object(f.a)(d,2),b=j[0],x=j[1],O=function(e){var t=e.codeResult.code;null!=t&&(t===c&&l((function(e){return e+1})),i((function(e){return t===e&&l((function(e){return e+1})),t})),x(!1))};return Object(r.useEffect)((function(){t&&u>=2&&(l(0),t(c))}),[u]),Object(r.useEffect)((function(){return be.a.init({inputStream:{type:"LiveStream",constraints:{width:{min:200},height:{min:200},facingMode:"environment",aspectRatio:{min:1,max:1}}},locator:{patchSize:"medium",halfSample:!1},numOfWorkers:2,frequency:10,decoder:{readers:["codabar_reader","ean_reader","code_128_reader"]},locate:!0},(function(e){return be.a.start(),function(){be.a.stop()}})),be.a.onDetected(O),function(){be.a.stop()}}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{id:"interactive",className:"viewport",style:{width:"100%"}}),Object(m.jsx)("p",{children:c||"\u8aad\u307f\u53d6\u308a\u4e2d..."}),Object(m.jsx)(he,{message:c||"empty",alertOpen:b,onEmpty:function(){return x(!1)},toggleAlert:function(){return i("")}})]})},ye=function(e){var t=e.message,n=void 0===t?"":t,r=e.dialogOpen,a=e.onClickOK,c=e.onClickCancel,i=e.onClose;return Object(m.jsxs)(fe.a,{open:r,children:[Object(m.jsx)(me.a,{children:"\u78ba\u8a8d"}),Object(m.jsx)(Oe.a,{children:Object(m.jsx)(pe.a,{children:n.split(/(\n)/).filter((function(e){return null===/\n/.exec(e)})).map((function(e){return Object(m.jsx)(P.a,{children:e})}))})}),Object(m.jsxs)(xe.a,{children:[Object(m.jsx)(k.a,{onClick:function(){i(),c()},color:"primary","aria-label":"cancel",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),Object(m.jsx)(k.a,{onClick:function(){i(),a()},color:"secondary","aria-label":"ok",autoFocus:!0,children:"OK"})]})]})},Ie=function(e){var t=e.drawerOpen,n=e.patientId,r=e.orderHeaderId,a=e.dialogOpen,c=e.toggleDrawer,i=e.onLogout,o=e.onScan,s=e.setDialogOpen,u=e.transit,l=e.onChangePatientId,d=e.onChangeOrderHeaderId;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(de,{drawerOpen:t,toggleDrawer:c,onOpen:i}),Object(m.jsx)(ye,{dialogOpen:a,message:"\u60a3\u8005ID\uff1a".concat(n,"\n      \u30aa\u30fc\u30c0ID\uff1a").concat(r),onClickCancel:function(){s(!1)},onClickOK:function(){u()},onClose:function(){s(!1)}}),Object(m.jsx)(H.a,{paddingTop:"25px",sx:{flexGrow:1},children:Object(m.jsxs)(L.a,{container:!0,spacing:2,children:[Object(m.jsx)(L.a,{item:!0,xs:6,children:Object(m.jsx)(C.a,{id:"patient-id",label:"\u60a3\u8005ID",color:"success",value:n,focused:!!n,InputProps:{startAdornment:Object(m.jsx)(G.a,{position:"start",children:Object(m.jsx)(U.a,{})})},fullWidth:!0,onChange:function(e){l(e.target.value)}})}),Object(m.jsx)(L.a,{item:!0,xs:6,children:Object(m.jsx)(C.a,{id:"order-id",label:"\u30aa\u30fc\u30c0ID",color:"success",value:r,focused:!!r,fullWidth:!0,onChange:function(e){d(e.target.value)}})}),Object(m.jsx)(L.a,{item:!0,xs:12,children:Object(m.jsx)(ge,{onScan:o})})]})})]})},Se=function(){var e=Object(r.useState)(!1),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(f.a)(c,2),o=i[0],s=i[1],l=Object(r.useState)(""),d=Object(f.a)(l,2),j=d[0],b=d[1],x=Object(r.useState)(""),O=Object(f.a)(x,2),p=O[0],v=O[1],g=Object(r.useState)(!1),y=Object(f.a)(g,2),I=y[0],S=y[1],w=Object(r.useContext)(h).logout,C=Object(u.h)();return Object(r.useEffect)((function(){o?j||b(p):s(p)}),[p]),Object(r.useEffect)((function(){o&&j&&S(!0)}),[j,o]),Object(m.jsx)(Ie,{drawerOpen:n,toggleDrawer:function(){return a(!n)},onLogout:function(){return w()},patientId:o,orderHeaderId:j,onScan:function(e){var t=Number(e);v(String(t))},dialogOpen:I,setDialogOpen:S,transit:function(){return C("/injectionexecute/".concat(o,"/").concat(j))},onChangePatientId:s,onChangeOrderHeaderId:b})},we=n(401),Ce=n(404),ke=n(440),De=n(415),Ee=n(412),Ne=n(408),Te=n(85),Fe=n(121),Ae=n.n(Fe),He=n(436),Le=n(435),Me=n(400),Pe=n(187),Re=n.n(Pe),ze=n(188),We=n.n(ze),Ve=function(e){var t=e.item,n=e.isExistChildren,r=e.level,a=e.onToggle,c=e.onItemSelect,i=e.open;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(Me.a,{sx:{pl:4*r},children:[Object(m.jsx)(Z.a,{primary:t.value,onClick:n?function(){return a(!i)}:function(){return c(t)}}),n&&(i?Object(m.jsx)(Re.a,{}):Object(m.jsx)(We.a,{}))]})})},qe=function e(t){var n=t.item,a=t.level,c=t.nestListItemClickAction,i=null!==n.children&&void 0!==n.children&&0!==n.children.length,o=Object(r.useState)(!1),s=Object(f.a)(o,2),u=s[0],l=s[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ve,{item:n,isExistChildren:i,level:a,onToggle:l,onItemSelect:c,open:u}),u&&function(){if(i){var t,r=a+1;return null===(t=n.children)||void 0===t?void 0:t.map((function(t){return Object(m.jsx)(Le.a,{in:u,timeout:"auto",unmountOnExit:!0,children:Object(m.jsx)(K.a,{disablePadding:!0,children:Object(m.jsx)(e,{item:t,level:r,nestListItemClickAction:c},null===t||void 0===t?void 0:t.itemId)})})}))}return null}()]})},Be=function(e){var t=e.treeItems,n=e.nestListItemClickAction;return Object(m.jsx)(m.Fragment,{children:t.map((function(e){return Object(m.jsx)(qe,{item:e,level:0,nestListItemClickAction:n},e.itemId)}))})},_e=function(e){var t=e.nestListItemClickAction,n=e.listDatas;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(K.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},component:"nav","aria-labelledby":"nested-list-subheader",subheader:Object(m.jsx)(He.a,{component:"div",id:"nested-list-subheader",children:"\u6295\u4e0e\u30eb\u30fc\u30c8\u9078\u629e"}),children:Object(m.jsx)(Be,{treeItems:n,nestListItemClickAction:function(e){t(e)}})})})},Ge=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.patch("orders/injections",{json:t,timeout:!1}).json();case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ue=Ge,Ke=n(421),Je=n(347),Ye=n(437),Xe=n(424),$e=n(189),Qe=n.n($e),Ze=function(e){var t=e.staffNames,n=e.handleClickIcon,r=e.handleOnChange,a=e.staffName,c=e.label,i=e.error,o=e.helperText,s=e.disabled;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Ke.a,{error:i,children:Object(m.jsxs)(w.a,{spacing:0,children:[Object(m.jsxs)(w.a,{direction:"row",spacing:0,children:[Object(m.jsx)(Je.a,{id:"combo-box-demo",options:t,value:a,onChange:function(e,t){return r(t)},sx:{width:300},renderInput:function(e){return Object(m.jsx)(C.a,Object(I.a)(Object(I.a)({},e),{},{error:i,label:c}))},disabled:s}),!s&&Object(m.jsx)(Ye.a,{color:"primary",component:"span",onClick:n,children:Object(m.jsx)(Qe.a,{})})]}),Object(m.jsx)(Xe.a,{children:o})]})})})},et=function(e){var t=e.staffId,n=e.firstName,r=e.lastName;return"".concat(r," ").concat(n," (ID:").concat(t,")")},tt=function(e){var t=e.defaultStaffId,n=void 0===t?0:t,a=e.label,c=void 0===a?"":a,i=e.onChange,o=e.error,s=e.helperText,u=e.disabled,l=void 0!==u&&u,d=Object(r.useState)([]),x=Object(f.a)(d,2),O=x[0],v=x[1],h=Object(r.useState)([]),y=Object(f.a)(h,2),I=y[0],S=y[1],w=g();Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("staffs").json();case 3:t=e.sent,v(t.staffs),n=t.staffs.map((function(e){return et(e)})),S(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error");case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}}),e,null,[[0,9,12,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var C=function(e,t){if(!t)return"";var n=e.find((function(e){return e.staffId===t}));return n?et(n):""}(O,n);return Object(m.jsx)(Ze,{staffNames:I,handleClickIcon:function(){if(w){var e=O.find((function(e){return String(e.staffId)===w.staffId}));e&&i&&i(e)}},handleOnChange:function(e){var t=O.find((function(t){return e===et(t)}));i&&i(t)},staffName:C,label:c,error:o,helperText:s,disabled:l})},nt=n(190),rt=n.n(nt),at=n(191),ct=n.n(at),it=n(192),ot=n.n(it),st=n(402),ut=function(e){var t=e.defaultExecute,n=e.onInput,a=e.executes,c=e.isShowRemainAmount,i=e.totalAmount,o=e.reserveDate,s=Object(r.useState)(t.injectionExecutionId),u=Object(f.a)(s,2),l=u[0],d=u[1],x=g(),O=Object(r.useState)(!1),v=Object(f.a)(O,2),h=v[0],y=v[1],S=function(){y(!h)},D=Object(r.useState)(t.injectionRouteMstId),E=Object(f.a)(D,2),N=E[0],T=E[1],F=Object(r.useState)([]),A=Object(f.a)(F,2),H=A[0],M=A[1],P=Object(r.useState)(void 0),R=Object(f.a)(P,2),z=R[0],W=R[1],V=Object(r.useState)(t.executionDropSpeed),q=Object(f.a)(V,2),B=q[0],_=q[1],U=Object(r.useState)(t.executionStartDate),K=Object(f.a)(U,2),J=K[0],Y=K[1],X=Object(r.useState)(),$=Object(f.a)(X,2),Q=$[0],Z=$[1],ee=Object(r.useState)(t.executionEndDate),te=Object(f.a)(ee,2),ne=te[0],re=te[1],ae=Object(r.useState)(),ce=Object(f.a)(ae,2),ie=ce[0],oe=ce[1],se=Object(r.useState)(t.executionCommentId),ue=Object(f.a)(se,2),le=ue[0],de=ue[1],je=Object(r.useState)(t.executionFreeComment),be=Object(f.a)(je,2),xe=be[0],Oe=be[1],pe=Object(r.useState)(t.executionAmount),me=Object(f.a)(pe,2),ve=me[0],he=me[1],ge=Object(r.useState)(0),ye=Object(f.a)(ge,2),Ie=ye[0],Se=ye[1],Ce=Object(r.useState)(t.endCommentId),ke=Object(f.a)(Ce,2),De=ke[0],Ee=ke[1],Ne=Object(r.useState)(t.endFreeComment),Te=Object(f.a)(Ne,2),Fe=Te[0],Ae=Te[1],He=Object(r.useState)([]),Le=Object(f.a)(He,2),Me=Le[0],Pe=Le[1],Re=Object(r.useState)([]),ze=Object(f.a)(Re,2),We=ze[0],Ve=ze[1],qe=Object(r.useState)(!1),Be=Object(f.a)(qe,2),Ge=Be[0],Ue=Be[1],Ke=Object(r.useState)(""),Ye=Object(f.a)(Ke,2),Xe=Ye[0],$e=Ye[1],Qe=Object(r.useState)(!1),Ze=Object(f.a)(Qe,2),et=Ze[0],nt=Ze[1],rt=Object(r.useState)(""),at=Object(f.a)(rt,2),ct=at[0],it=at[1],ot=Object(r.useState)(!1),ut=Object(f.a)(ot,2),lt=ut[0],dt=ut[1],jt=Object(r.useState)(""),bt=Object(f.a)(jt,2),ft=bt[0],xt=bt[1],Ot=Object(r.useState)(!1),pt=Object(f.a)(Ot,2),mt=pt[0],vt=pt[1],ht=Object(r.useState)(""),gt=Object(f.a)(ht,2),yt=gt[0],It=gt[1],St=Object(r.useState)(!1),wt=Object(f.a)(St,2),Ct=wt[0],kt=wt[1],Dt=Object(r.useState)(""),Et=Object(f.a)(Dt,2),Nt=Et[0],Tt=Et[1],Ft=Object(r.useState)(!1),At=Object(f.a)(Ft,2),Ht=At[0],Lt=At[1],Mt=Object(r.useState)(""),Pt=Object(f.a)(Mt,2),Rt=Pt[0],zt=Pt[1],Wt=Object(r.useState)(!1),Vt=Object(f.a)(Wt,2),qt=Vt[0],Bt=Vt[1],_t=Object(r.useState)(""),Gt=Object(f.a)(_t,2),Ut=Gt[0],Kt=Gt[1],Jt=function(){return 0===a.length||1===a.length&&a.some((function(e){return e.injectionExecutionId===l}))},Yt=function(e){var t,n={};if(a.length>0){var r=-1;if(0===l?r=a.length-1:a.some((function(e){return e.injectionExecutionId===l}))&&(r=a.findIndex((function(e){return e.injectionExecutionId===l}))-1),r>=0){if(!(n=a[r]).executionEndDate)return Bt(t=!0),Kt("\u524d\u306e\u5b9f\u65bd\u304c\u7d42\u4e86\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),!1;Bt(t=!1),Kt("")}}var c,i=0===N;Ue(i),$e(i?"\u6295\u4e0e\u30eb\u30fc\u30c8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":""),null==J?(dt(c=!0),xt("\u5b9f\u65bd\u958b\u59cb\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002")):n!=={}&&"string"===typeof n.executionEndDate&&Object(st.a)(new Date(J),new Date(n.executionEndDate))?(dt(c=!0),xt("\u5b9f\u65bd\u671f\u9593\u304c\u91cd\u8907\u3057\u3066\u3044\u307e\u3059\u3002")):Object(we.a)(new Date(J),new Date)?(dt(c=!0),xt("\u5b9f\u65bd\u958b\u59cb\u65e5\u6642\u306b\u672a\u6765\u65e5\u306f\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002")):(dt(c=!1),xt(""));var o=0===(null===Q||void 0===Q?void 0:Q.staffId);vt(o),It(o?"\u958b\u59cb\u8005\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"");var s,u,d="number"===typeof ve&&ve>9999.999;Lt(d),zt(d?"\u6295\u4e0e\u91cf\u306f\u3001\u6574\u65704\u30b1\u30bf\u3001\u5c0f\u65703\u30b1\u30bf\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002":""),e?(null!=ne||Jt?null!=ne&&null!=J&&Object(we.a)(new Date(J),new Date(ne))?(Bt(s=!0),Kt("\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642\u306b\u306f\u5b9f\u65bd\u958b\u59cb\u65e5\u6642\u4ee5\u964d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002")):null!=ne&&Object(we.a)(new Date(ne),new Date)?(Bt(s=!0),Kt("\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642\u306b\u672a\u6765\u65e5\u306f\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002")):(Bt(s=!1),Kt("")):(Bt(s=!0),Kt("\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002")),u=0===(null===ie||void 0===ie?void 0:ie.staffId)&&!!Jt,kt(u),Tt(u?"\u5b9f\u65bd\u7d42\u4e86\u8005\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"")):(null==ne?(Bt(s=!0),Kt("\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002")):null!=ne&&null!=J&&Object(we.a)(new Date(J),new Date(ne))?(Bt(s=!0),Kt("\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642\u306b\u306f\u5b9f\u65bd\u958b\u59cb\u65e5\u6642\u4ee5\u964d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002")):null!=ne&&Object(we.a)(new Date(ne),new Date)?(Bt(s=!0),Kt("\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642\u306b\u672a\u6765\u65e5\u306f\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002")):(Bt(s=!1),Kt("")),u=0===(null===ie||void 0===ie?void 0:ie.staffId),kt(u),Tt(u?"\u5b9f\u65bd\u7d42\u4e86\u8005\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":""));return!(t||i||c||o||d||s||u)};return Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("orders/injections/executes/drop",{searchParams:{reserveDate:o}}).json();case 3:t=e.sent,Ve(t.executeCommentItems),Pe(t.endCommentItems),M(t.routeNestDatas),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error("error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[o]),Object(r.useEffect)((function(){var e;d(t.injectionExecutionId),T(t.injectionRouteMstId),W(null===(e=H.find((function(e){return e.itemId===t.injectionRouteMstId})))||void 0===e?void 0:e.value),_(t.executionDropSpeed),Y(t.executionStartDate),re(t.executionEndDate),de(t.executionCommentId),Oe(t.executionFreeComment),he(t.executionAmount);var n=0;a.forEach((function(e){e.executionAmount&&(n+=e.executionAmount)}));var r=i-n;Se(r>=0?r:0)}),[H,i,t,a]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(w.a,{component:"form",noValidate:!0,spacing:3,paddingLeft:"18px",sx:{flexGrow:1},children:Object(m.jsxs)(L.a,{container:!0,spacing:2,direction:"column",children:[Object(m.jsxs)(L.a,{item:!0,children:[Object(m.jsx)(C.a,{defaultValue:" ",error:Ge,helperText:Xe,id:"injectionRouteTextField",label:"\u6295\u4e0e\u30eb\u30fc\u30c8",variant:"filled",value:z,onClick:function(){S()},InputProps:{readOnly:!0}}),Object(m.jsx)(fe.a,{open:h,onClose:S,children:Object(m.jsx)(_e,{nestListItemClickAction:function(e){T(e.itemId),W(e.value),S()},listDatas:H})})]}),Object(m.jsx)(L.a,{item:!0,children:Object(m.jsx)(C.a,{error:et,className:"dropSpeed",id:"dropSpeedTextField",label:"\u70b9\u6ef4\u901f\u5ea6",variant:"outlined",type:"number",value:B,onChange:function(e){_(Number(e.target.value)<0?0:Number(e.target.value))},helperText:ct,InputProps:{endAdornment:Object(m.jsx)(G.a,{position:"end",children:"ml/\u6642\u9593"})}})}),Object(m.jsx)(L.a,{item:!0,children:Object(m.jsx)(C.a,{label:"\u5b9f\u65bd\u958b\u59cb\u65e5\u6642",type:"datetime-local",error:lt,helperText:ft,value:J,sx:{width:250},InputLabelProps:{shrink:!0},onChange:function(e){Y(e.target.value)}})}),Object(m.jsx)(L.a,{item:!0,children:Object(m.jsx)(tt,{label:"\u958b\u59cb\u8005",defaultStaffId:void 0!==t.executionStartId&&0!==t.executionStartId?t.executionStartId:x?Number(x.staffId):0,error:mt,helperText:yt,onChange:function(e){void 0!==e&&Z(e)}})}),Object(m.jsx)(L.a,{item:!0,children:Object(m.jsx)(C.a,{label:"\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642",type:"datetime-local",error:qt,helperText:Ut,value:ne,sx:{width:250},InputLabelProps:{shrink:!0},onChange:function(e){re(e.target.value)}})}),Object(m.jsx)(L.a,{item:!0,children:Object(m.jsx)(tt,{label:"\u7d42\u4e86\u8005",error:Ct,helperText:Nt,onChange:function(e){void 0!==e&&oe(e)}})}),Object(m.jsxs)(L.a,{item:!0,children:[Object(m.jsx)(C.a,{className:"amount",error:Ht,helperText:Rt,id:"amountTextField",label:"\u6295\u4e0e\u91cf",variant:"outlined",type:"number",value:ve,onChange:function(e){he(Number(e.target.value))},InputProps:{endAdornment:Object(m.jsx)(G.a,{position:"end",children:"ml"})}}),Object(m.jsx)(k.a,{variant:"contained",onClick:function(){var e=void 0===B||0===B;nt(e),it(e?"\u70b9\u6ef4\u901f\u5ea6\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"");var t=null==J;dt(t),xt(t?"\u5b9f\u65bd\u958b\u59cb\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"");var n=null==ne;Bt(n),Kt(n?"\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"");var r=null!=J&&null!=ne&&Object(we.a)(new Date(J),new Date(ne));if(null!=ne&&(Bt(r),Kt(r?"\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642\u306b\u306f\u5b9f\u65bd\u958b\u59cb\u65e5\u6642\u4ee5\u964d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"")),!e&&!t&&!n&&!r&&"number"===typeof B&&"string"===typeof J&&"string"===typeof ne){var a=new Date(J).getTime()===new Date(ne).getTime()?0:(new Date(ne).getTime()-new Date(J).getTime())/1e3;he(Number((B*(a/60/60)).toFixed(3)))}},children:"\u7528\u91cf\u8a08\u7b97"})]}),c&&Object(m.jsx)(L.a,{item:!0,children:Object(m.jsx)(C.a,{className:"remainAmount",id:"remainAmountTextField",label:"\u6b8b\u91cf",variant:"outlined",type:"number",value:Ie,onChange:function(e){Se(Number(e.target.value))},InputProps:{endAdornment:Object(m.jsx)(G.a,{position:"end",children:"ml"}),readOnly:!0}})}),Object(m.jsx)(L.a,{item:!0,children:Object(m.jsx)(Je.a,{freeSolo:!0,onChange:function(e,t){"string"===typeof t?(de(Number(0)),Oe(t)):null!=t&&(de(Number(null===t||void 0===t?void 0:t.executeCommentId)),Oe(null===t||void 0===t?void 0:t.content))},value:0!==le?We.find((function(e){return Number(e.executeCommentId)===le})):xe,options:We,getOptionLabel:function(e){return"string"===typeof e?e:e.content},renderInput:function(e){return Object(m.jsx)(C.a,Object(I.a)(Object(I.a)({},e),{},{label:"\u5b9f\u65bd\u30b3\u30e1\u30f3\u30c8"}))}})}),Object(m.jsx)(L.a,{item:!0,children:Object(m.jsx)(Je.a,{freeSolo:!0,onChange:function(e,t){"string"===typeof t?(Ee(Number(0)),Ae(t)):null!=t&&(Ee(Number(null===t||void 0===t?void 0:t.executeCommentId)),Ae(null===t||void 0===t?void 0:t.content))},value:0!==De?Me.find((function(e){return Number(e.executeCommentId)===De})):Fe,options:Me,getOptionLabel:function(e){return"string"===typeof e?e:e.content},renderInput:function(e){return Object(m.jsx)(C.a,Object(I.a)(Object(I.a)({},e),{},{label:"\u7d42\u4e86\u30b3\u30e1\u30f3\u30c8"}))}})}),Object(m.jsxs)(L.a,{item:!0,children:[Object(m.jsx)(k.a,{variant:"contained",color:"success",onClick:function(){if(Yt(!1)){var e={injectionExecutionId:l,executionStartDate:J,injectionRouteMstId:N,executionStartId:null===Q||void 0===Q?void 0:Q.staffId,executionEndDate:ne,executionEndId:null===ie||void 0===ie?void 0:ie.staffId,executionCommentId:le,executionFreeComment:xe,endCommentId:De,endFreeComment:Fe,executionAmount:ve,executionDropSpeed:B};n(e,!1)}},children:"\u8ffd\u52a0"}),Object(m.jsx)(k.a,{variant:"contained",color:"success",onClick:function(){if(Yt(!0)){var e={injectionExecutionId:l,executionStartDate:J,injectionRouteMstId:N,executionStartId:null===Q||void 0===Q?void 0:Q.staffId,executionEndDate:ne,executionEndId:null===ie||void 0===ie?void 0:ie.staffId,executionCommentId:le,executionFreeComment:xe,endCommentId:De,endFreeComment:Fe,executionAmount:ve,executionDropSpeed:B};n(e,!0)}},children:"\u7d42\u4e86\u8ffd\u52a0"})]})]})})})},lt=function(e){var t=e.execute,n=e.onClickDeleteButton,a=e.executes,c=e.isLastRow,i=e.injectionOrder,o=Object(r.useState)(!1),s=Object(f.a)(o,2),u=s[0],l=s[1],d=Object(r.useState)(t),j=Object(f.a)(d,2),b=j[0],x=j[1],O=function(){l(!u)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(z.a,{sx:{minWidth:275},children:[Object(m.jsxs)(M.a,{children:[Object(m.jsxs)(P.a,{sx:{fontSize:16},children:["\u958b\u59cb\u65e5\u6642\uff1a",void 0!==b.executionStartDate?Object(Te.a)(new Date(b.executionStartDate),"yyyy/MM/dd HH:mm"):""]}),Object(m.jsxs)(P.a,{sx:{fontSize:16},children:["\u7d42\u4e86\u65e5\u6642\uff1a",void 0!==b.executionEndDate&&null!==b.executionEndDate?Object(Te.a)(new Date(b.executionEndDate),"yyyy/MM/dd HH:mm"):""]}),Object(m.jsxs)(P.a,{sx:{fontSize:16},children:["\u901f\u5ea6\uff1a",b.executionDropSpeed]}),Object(m.jsxs)(P.a,{sx:{fontSize:16},children:["\u6295\u4e0e\u91cf\uff1a",b.executionAmount]}),Object(m.jsxs)(P.a,{sx:{fontSize:16},children:["\u30b3\u30e1\u30f3\u30c8\uff1a",b.executionFreeComment]})]}),c&&Object(m.jsxs)(L.a,{container:!0,children:[Object(m.jsx)(L.a,{item:!0,children:Object(m.jsx)(Ye.a,{"aria-label":"delete",onClick:function(){n(t)},children:Object(m.jsx)(rt.a,{})})}),Object(m.jsxs)(L.a,{item:!0,children:[Object(m.jsx)(Ye.a,{"aria-label":"edit",onClick:O,children:Object(m.jsx)(ct.a,{})}),Object(m.jsxs)(fe.a,{open:u,onClose:O,children:[Object(m.jsx)(H.a,{sx:{flexGrow:1},children:Object(m.jsxs)(L.a,{container:!0,spacing:2,children:[Object(m.jsx)(L.a,{item:!0,xs:4,children:Object(m.jsx)(Ye.a,{onClick:O,children:Object(m.jsx)(ot.a,{})})}),Object(m.jsx)(L.a,{item:!0,xs:7,children:Object(m.jsx)(P.a,{sx:{fontSize:25},children:"\u70b9\u6ef4\u5c65\u6b74\u7de8\u96c6"})})]})}),Object(m.jsx)(X.a,{}),Object(m.jsx)(ut,{defaultExecute:b,onInput:function(e){x(e),O()},executes:a,isShowRemainAmount:!1,totalAmount:i.totalAmount,reserveDate:i.reserveDate})]})]})]})]})})},dt={width:"100%",maxWidth:380,bgcolor:"background.paper"},jt=function(e){var t=e.dropItemList,n=e.deleteAction,r=e.injectionOrder;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(K.a,{sx:dt,component:"nav",children:t.map((function(e){return Object(m.jsx)($.a,{children:Object(m.jsx)(lt,{execute:e,onClickDeleteButton:n,executes:t,isLastRow:t[t.length-1].injectionExecutionId===e.injectionExecutionId,injectionOrder:r})})}))})})},bt=n(438),ft=n(439),xt=function(e){var t=new Date,n=new Date(t.getFullYear(),e.getMonth()-1,e.getDate()),r=t.getFullYear()-e.getFullYear();return t<n&&(r-=1),r},Ot=function(e){var t=e.patient,n=e.cardActions,r=e.cardContent,a=e.displayContent,c=void 0!==a&&a,i=t?new Date(t.birthday):new Date,o=t?Object(Te.a)(i,"yyyy/MM/dd"):"",s=t?"(".concat(xt(i).toString(),"\u6b73)"):"";return t?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(z.a,{variant:"outlined",children:[Object(m.jsx)(bt.a,{avatar:Object(m.jsx)(Ye.a,{"aria-label":"account",children:Object(m.jsx)(U.a,{fontSize:"large"})}),title:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P.a,{variant:"h5",component:"div",children:"".concat(t.lastName," ").concat(t.firstName)}),Object(m.jsx)(P.a,{gutterBottom:!0,variant:"body1",component:"div",children:"ID:".concat(t.patientId)}),Object(m.jsx)(P.a,{gutterBottom:!0,variant:"body1",component:"div",children:"".concat(o," ").concat(s," ").concat(t.sex," ").concat(t.bloodType,"\u578b ").concat(t.rhFactor)})]})}),n&&Object(m.jsx)(R.a,{children:n}),r&&Object(m.jsx)(Le.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(m.jsx)(M.a,{children:r})})]})}):Object(m.jsx)(z.a,{variant:"outlined",children:Object(m.jsx)(bt.a,{title:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(ft.a,{sx:{margin:"auto"}})})})})},pt=function(e){var t=e.patientId,n=e.cardActions,a=e.cardContent,c=e.displayContent,i=Object(r.useState)(void 0),o=Object(f.a)(i,2),s=o[0],u=o[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("patients/".concat(t)).json();case 3:n=e.sent,u(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error");case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}}),e,null,[[0,7,10,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(m.jsx)(Ot,{patient:s,cardActions:n,cardContent:a,displayContent:c})},mt=function(e){var t,n,a,c,i,o,s=e.patientId,u=e.injectionOrder,l=e.executes,d=e.deleteExecuteItem,j=Object(r.useState)(!1),b=Object(f.a)(j,2),x=b[0],O=b[1],p=Object(r.useState)(""),v=Object(f.a)(p,2),h=v[0],g=v[1],y=function(e){return h?h!==e?(g(e),void(x||O(!x))):void O(!x):(O(!x),void g(e))},I=Object(m.jsxs)(L.a,{container:!0,spacing:2,children:[Object(m.jsx)(L.a,{item:!0,xs:4,children:Object(m.jsx)(k.a,{size:"small",onClick:function(){return y("summary")},children:x&&"summary"===h?"\u30aa\u30fc\u30c0\u5185\u5bb9\u3092\u9589\u3058\u308b":"\u30aa\u30fc\u30c0\u5185\u5bb9\u3092\u8868\u793a"})}),Object(m.jsx)(L.a,{item:!0,xs:4,children:Object(m.jsx)(k.a,{size:"small",onClick:function(){return y("status")},children:x&&"status"===h?"\u53d7\u4ed8\u5185\u5bb9\u3092\u9589\u3058\u308b":"\u53d7\u4ed8\u5185\u5bb9\u3092\u8868\u793a"})}),2===(null===u||void 0===u?void 0:u.execType)&&Object(m.jsx)(L.a,{item:!0,xs:4,children:Object(m.jsx)(k.a,{size:"small",onClick:function(){return y("execute")},children:x&&"execute"===h?"\u5b9f\u65bd\u5185\u5bb9\u3092\u9589\u3058\u308b":"\u5b9f\u65bd\u5185\u5bb9\u3092\u8868\u793a"})})]}),S="\n  \u4f9d\u983c\u533b\uff1a".concat(null!==(t=null===u||void 0===u?void 0:u.issueStaffName)&&void 0!==t?t:"","\n  \u4f9d\u983c\u65e5\u6642\uff1a").concat(null!=(null===u||void 0===u?void 0:u.issueDate)?Object(Te.a)(new Date(null===u||void 0===u?void 0:u.issueDate),"yyyy/MM/dd HH:mm"):"","\n  \u4ee3\u7406\u5165\u529b\u8005\uff1a").concat(null!==(n=null===u||void 0===u?void 0:u.departmentName)&&void 0!==n?n:"","\n  \u6307\u793a\u53d7\u8005\uff1a").concat(null!==(a=null===u||void 0===u?void 0:u.instructedName)&&void 0!==a?a:"","\n  \u6307\u793a\u53d7\u65e5\u6642\uff1a").concat(null!=(null===u||void 0===u?void 0:u.instructedDate)?Object(Te.a)(new Date(null===u||void 0===u?void 0:u.instructedDate),"yyyy/MM/dd HH:mm"):"","\n  \u5b9f\u65bd\u8005\uff1a").concat(null!==(c=null===u||void 0===u?void 0:u.completeName)&&void 0!==c?c:"","\n  \u5b9f\u65bd\u65e5\u6642\uff1a").concat(null!=(null===u||void 0===u?void 0:u.completeDate)?Object(Te.a)(new Date(null===u||void 0===u?void 0:u.completeDate),"yyyy/MM/dd HH:mm"):"","\n  \u30aa\u30fc\u30c0\u72b6\u614b\uff1a").concat(null!==(i=null===u||void 0===u?void 0:u.orderStatusName)&&void 0!==i?i:"","\n  \u4e88\u5b9a\u65e5\u6642\uff1a").concat(null!=(null===u||void 0===u?void 0:u.plansDate)?"99:99"===u.plansDate.substring(11)?Object(Te.a)(new Date(null===u||void 0===u?void 0:u.plansDate.substring(0,10)),"yyyy/MM/dd \u672a\u5b9a"):Object(Te.a)(new Date(null===u||void 0===u?void 0:u.plansDate),"yyyy/MM/dd HH:mm"):""),w=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(X.a,{}),Object(m.jsx)(M.a,{children:(o=h,"summary"===o?null===u||void 0===u?void 0:u.summary.split(/(\n)/).filter((function(e){return null===/\n/.exec(e)})).map((function(e){return Object(m.jsx)(P.a,{children:e})})):"status"===o?S.split(/(\n)/).filter((function(e){return null===/\n/.exec(e)})).map((function(e){return Object(m.jsx)(P.a,{children:e})})):"execute"===o&&null!=u&&d?Object(m.jsx)(jt,{dropItemList:l,deleteAction:d,injectionOrder:u}):null)})]});return Object(m.jsx)(pt,{patientId:s,cardActions:I,cardContent:w,displayContent:x})},vt=Object(ae.a)(ke.a)({position:"fixed",right:15,bottom:15}),ht=function(e){var t=e.injectionOrder,n=Object(u.h)(),a=g(),c=4!==(null===t||void 0===t?void 0:t.orderStatus),i=Object(r.useState)(!1),o=Object(f.a)(i,2),s=o[0],l=o[1],d=Object(r.useState)(!1),x=Object(f.a)(d,2),O=x[0],v=x[1],h=Object(r.useState)(0!==t.execList.length?t.execList[0]:{injectionExecutionId:0,executionStartId:0,executionStartDate:Object(Te.a)(new Date,"yyyy-MM-dd'T'HH:mm")}),y=Object(f.a)(h,2),S=y[0],w=(y[1],Object(r.useState)([])),k=Object(f.a)(w,2),D=k[0],E=k[1],N=Object(r.useState)(void 0),T=Object(f.a)(N,2),F=T[0],A=T[1],H=Object(r.useState)(),M=Object(f.a)(H,2),P=M[0],R=M[1],z=Object(r.useState)(!1),W=Object(f.a)(z,2),V=W[0],q=W[1],B=Object(r.useState)([]),_=Object(f.a)(B,2),U=_[0],K=_[1],J=function(){q(!V)},Y=Object(r.useState)(void 0),X=Object(f.a)(Y,2),$=X[0],Q=X[1],Z=Object(r.useState)(),ee=Object(f.a)(Z,2),te=ee[0],ne=ee[1],re=Object(r.useState)(void 0),ae=Object(f.a)(re,2),ce=ae[0],ie=ae[1],oe=Object(r.useState)(void 0!==S.executionStartId&&0!==S.executionStartId?S.executionStartId:a?Number(a.staffId):0),se=Object(f.a)(oe,2),ue=se[0],le=se[1],de=Object(r.useState)(void 0),je=Object(f.a)(de,2),be=je[0],xe=je[1],Oe=Object(r.useState)(!1),pe=Object(f.a)(Oe,2),me=pe[0],ve=pe[1],he=Object(r.useState)(""),ge=Object(f.a)(he,2),ye=ge[0],Ie=ge[1],Se=Object(r.useState)(!1),ke=Object(f.a)(Se,2),Fe=ke[0],He=ke[1],Le=Object(r.useState)(""),Me=Object(f.a)(Le,2),Pe=Me[0],Re=Me[1],ze=Object(r.useState)(!1),We=Object(f.a)(ze,2),Ve=We[0],qe=We[1],Be=Object(r.useState)(""),Ge=Object(f.a)(Be,2),Ke=Ge[0],Je=Ge[1],Ye=Object(r.useState)(!1),Xe=Object(f.a)(Ye,2),$e=Xe[0],Qe=Xe[1],Ze=Object(r.useState)(""),et=Object(f.a)(Ze,2),nt=et[0],rt=et[1],at=function(){var e,t=0===$;ve(t),Ie(t?"\u6295\u4e0e\u30eb\u30fc\u30c8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":""),null==te?(He(e=!0),Re("\u5b9f\u65bd\u958b\u59cb\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002")):Object(we.a)(new Date(te),new Date)?(He(e=!0),Re("\u5b9f\u65bd\u958b\u59cb\u65e5\u6642\u306b\u672a\u6765\u65e5\u306f\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002")):(He(e=!1),Re(""));var n=0===ue;qe(n),Je(n?"\u958b\u59cb\u8005\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"");var r="number"===typeof be&&(function(e){var t=String(e).split(".")[0];return t?t.length:0}(be)>4||function(e){var t=String(e).split(".")[1];return t?t.length:0}(be)>3);Qe(r),rt(r?"\u6295\u4e0e\u91cf\u306f\u3001\u6574\u65704\u30b1\u30bf\u3001\u5c0f\u65703\u30b1\u30bf\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"");return!(t||e||n||r)};Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("orders/injections/executes/oneshot",{searchParams:{reserveDate:t.reserveDate}}).json();case 3:n=e.sent,E(n.executeCommentItems),K(n.routeNestDatas),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error("error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[t.reserveDate]),Object(r.useEffect)((function(){var e;A(S.executionCommentId);var n=0===S.executionCommentId?S.executionFreeComment:null===(e=D.find((function(e){return Number(e.executeCommentId)===S.executionCommentId})))||void 0===e?void 0:e.content;R(n),Q(null===t||void 0===t?void 0:t.injectionRouteId),ie(null===t||void 0===t?void 0:t.injectionRouteName),ne(S.executionStartDate),xe(4===(null===t||void 0===t?void 0:t.orderStatus)?S.executionAmount:null===t||void 0===t?void 0:t.totalAmount)}),[D,t,S]);var ct=function(){var e=Object(b.a)(j.a.mark((function e(){var n,r,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4===(null===t||void 0===t?void 0:t.orderStatus)){e.next=3;break}if(at()){e.next=3;break}return e.abrupt("return");case 3:return c={injectionRouteMstId:$,executionStartDate:te,executionStartId:ue,executionCommentId:F,executionFreeComment:0===F?P:void 0,executionAmount:be},i={orderHeaderId:null!==(n=null===t||void 0===t?void 0:t.orderHeaderId)&&void 0!==n?n:0,version:null!==(r=null===t||void 0===t?void 0:t.version)&&void 0!==r?r:0,updateId:a?Number(a.staffId):0,end:!0,execList:4!==(null===t||void 0===t?void 0:t.orderStatus)?[c]:[]},e.next=7,Ue(i);case 7:e.sent?l(!0):v(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(De.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:s}),Object(m.jsx)(Ee.a,{open:s,autoHideDuration:6e3,onClose:function(){l(!1),n(-1)},children:Object(m.jsx)(Ne.a,{onClose:function(){l(!1),n(-1)},severity:"success",sx:{width:"100%"},children:4!==(null===t||void 0===t?void 0:t.orderStatus)?"\u5b9f\u65bd\u60c5\u5831\u3092\u767b\u9332\u3057\u307e\u3057\u305f\u3002":"\u5b9f\u65bd\u53d6\u6d88\u3092\u884c\u3044\u307e\u3057\u305f\u3002"})}),Object(m.jsx)(Ee.a,{open:O,autoHideDuration:6e3,onClose:function(){v(!1)},children:Object(m.jsx)(Ne.a,{onClose:function(){v(!1)},severity:"error",sx:{width:"100%"},children:"\u5b9f\u65bd\u60c5\u5831\u306e\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"})}),Object(m.jsxs)(vt,{variant:"extended",color:"primary","aria-label":"add-button",onClick:ct,children:[Object(m.jsx)(Ae.a,{sx:{mr:1}}),0===(null===t||void 0===t?void 0:t.execList.length)?"\u78ba\u5b9a":"\u5b9f\u65bd\u53d6\u6d88"]}),Object(m.jsx)(mt,{patientId:t.patientId,injectionOrder:t,executes:t.execList}),Object(m.jsxs)(L.a,{container:!0,spacing:2,direction:"column",children:[Object(m.jsxs)(L.a,{item:!0,children:[Object(m.jsx)(C.a,{defaultValue:" ",disabled:!c,error:me,helperText:ye,id:"injectionRouteTextField",label:"\u6295\u4e0e\u30eb\u30fc\u30c8",variant:"filled",value:ce,onClick:function(){J()},InputProps:{readOnly:!0}}),Object(m.jsx)(fe.a,{open:V,onClose:J,children:Object(m.jsx)(_e,{nestListItemClickAction:function(e){Q(e.itemId),ie(e.value),J()},listDatas:U})})]}),Object(m.jsx)(L.a,{item:!0,children:Object(m.jsx)(C.a,{label:"\u5b9f\u65bd\u958b\u59cb\u65e5\u6642",type:"datetime-local",error:Fe,disabled:!c,helperText:Pe,value:te,sx:{width:250},InputLabelProps:{shrink:!0},onChange:function(e){ne(e.target.value)}})}),Object(m.jsx)(L.a,{item:!0,children:Object(m.jsx)(tt,{label:"\u958b\u59cb\u8005",defaultStaffId:ue,error:Ve,helperText:Ke,onChange:function(e){le(void 0===e?0:e.staffId)}})}),Object(m.jsx)(L.a,{item:!0,children:Object(m.jsx)(C.a,{error:$e,helperText:nt,id:"amountTextField",label:"\u6295\u4e0e\u91cf",variant:"outlined",type:"number",disabled:!c,value:be,onChange:function(e){xe(Number(e.target.value))},InputProps:{endAdornment:Object(m.jsx)(G.a,{position:"end",children:"ml"})}})}),Object(m.jsx)(L.a,{item:!0,children:Object(m.jsx)(Ce.a,{freeSolo:!0,disabled:!c,onChange:function(e,t){"string"===typeof t?(A(Number(0)),R(t)):null!=t&&(A(Number(null===t||void 0===t?void 0:t.executeCommentId)),R(null===t||void 0===t?void 0:t.content))},value:P,options:D,getOptionLabel:function(e){return"string"===typeof e?e:e.content},renderInput:function(e){return Object(m.jsx)(C.a,Object(I.a)(Object(I.a)({},e),{},{label:"\u5b9f\u65bd\u30b3\u30e1\u30f3\u30c8"}))}})})]})]})},gt=n(15),yt=Object(ae.a)(ke.a)({position:"fixed",right:15,bottom:15}),It=function(e){var t=e.injectionOrder,n=Object(u.h)(),a=g(),c=Object(r.useState)(4===t.orderStatus),i=Object(f.a)(c,2),o=i[0],s=i[1],l=Object(r.useState)(t.execList),d=Object(f.a)(l,2),x=d[0],O=d[1],p=Object(r.useState)(!1),v=Object(f.a)(p,2),h=v[0],y=v[1],I=Object(r.useState)(!1),S=Object(f.a)(I,2),w=S[0],C=S[1],k=function(){var e=Object(b.a)(j.a.mark((function e(){var n,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={orderHeaderId:null!==(n=null===t||void 0===t?void 0:t.orderHeaderId)&&void 0!==n?n:0,version:null!==(r=null===t||void 0===t?void 0:t.version)&&void 0!==r?r:0,updateId:a?Number(a.staffId):0,end:o,execList:4!==(null===t||void 0===t?void 0:t.orderStatus)?x:[]},e.next=3,Ue(c);case 3:e.sent?y(!0):C(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(De.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:h}),Object(m.jsx)(Ee.a,{open:h,autoHideDuration:6e3,onClose:function(){y(!1),n(-1)},children:Object(m.jsx)(Ne.a,{onClose:function(){y(!1),n(-1)},severity:"success",sx:{width:"100%"},children:4!==(null===t||void 0===t?void 0:t.orderStatus)?"\u5b9f\u65bd\u60c5\u5831\u3092\u767b\u9332\u3057\u307e\u3057\u305f\u3002":"\u5b9f\u65bd\u53d6\u6d88\u3092\u884c\u3044\u307e\u3057\u305f\u3002"})}),Object(m.jsx)(Ee.a,{open:w,autoHideDuration:6e3,onClose:function(){C(!1)},children:Object(m.jsx)(Ne.a,{onClose:function(){C(!1)},severity:"error",sx:{width:"100%"},children:"\u5b9f\u65bd\u60c5\u5831\u306e\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"})}),Object(m.jsxs)(yt,{variant:"extended",color:"primary","aria-label":"add-button",onClick:k,children:[Object(m.jsx)(Ae.a,{sx:{mr:1}}),4!==(null===t||void 0===t?void 0:t.orderStatus)?"\u78ba\u5b9a":"\u5b9f\u65bd\u53d6\u6d88"]}),Object(m.jsxs)(L.a,{container:!0,spacing:2,direction:"column",children:[Object(m.jsx)(L.a,{item:!0,children:Object(m.jsx)(mt,{patientId:t.patientId,injectionOrder:t,executes:x,deleteExecuteItem:function(e){O((function(t){return t.filter((function(t){return t!==e}))})),s(!1)}})}),Object(m.jsx)(L.a,{item:!0}),Object(m.jsx)(ut,{defaultExecute:{injectionExecutionId:0,executionStartId:0,executionEndId:0,executionDropSpeed:0},onInput:function(e,t){O((function(t){return[].concat(Object(gt.a)(t),[e])})),s(t)},executes:x,totalAmount:t.totalAmount,isShowRemainAmount:!0,reserveDate:t.reserveDate})]})]})},St=function(){var e=g(),t=Object(u.h)(),n=Object(u.i)(),a=n.patientId,c=n.orderHeaderId,i=Object(r.useState)(),o=Object(f.a)(i,2),s=o[0],l=o[1],d=Object(r.useState)(void 0),x=Object(f.a)(d,2),O=x[0],v=x[1],h=Object(r.useState)(!1),y=Object(f.a)(h,2),I=y[0],S=y[1],w=Object(r.useCallback)(Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("orders/injections",{searchParams:{orderHeaderId:Number(c)}}).json();case 3:t=e.sent,l(function(){if(0===t.orderHeaderId)return v("\u30aa\u30fc\u30c0\u3092\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3002"),!1;if(t.patientId!==a)return v("\u60a3\u8005\u60c5\u5831\u304c\u4e00\u81f4\u3057\u307e\u305b\u3093\u3002"),!1;if("injection"!==t.mainClass)return v("\u6ce8\u5c04\u30aa\u30fc\u30c0\u3092\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3002"),!1;if("\u672a\u53d7\u4ed8"===t.orderStatusName)return v("\u3053\u306e\u30aa\u30fc\u30c0\u306f\u53d7\u4ed8\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),!1;if(5===t.orderStatus)return v("\u3053\u306e\u30aa\u30fc\u30c0\u306f\u4e2d\u6b62\u3055\u308c\u3066\u3044\u307e\u3059\u3002"),!1;if(!t.executableFutureDay){var e=new Date(t.preferredDate);if(Object(we.a)(e,new Date))return v("\u672a\u6765\u65e5\u306f\u5b9f\u65bd\u3067\u304d\u307e\u305b\u3093\u3002"),!1}return 1!==t.instructedStatus||(t.forcingInstracted?(S(!0),!0):(v("\u6307\u793a\u53d7\u3051\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u5b9f\u65bd\u306f\u884c\u3048\u307e\u305b\u3093\u3002"),!1))}()?t:void 0),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error("error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[c,a]);if(Object(r.useEffect)((function(){w()}),[w]),!s)return Object(m.jsx)("p",{children:O});var C=function(){var t=Object(b.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.put("orders/injections",{json:{orderHeaderId:n.orderHeaderId,userId:null===e||void 0===e?void 0:e.staffId,patientId:n.patientId},timeout:!1}).json();case 3:r=t.sent,l(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert("error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ye,{dialogOpen:I,message:"\u6307\u793a\u53d7\u3051\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n        \u6307\u793a\u53d7\u3051\u3092\u884c\u3044\u307e\u3059\u304b\uff1f",onClickCancel:function(){t(-1)},onClickOK:Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(s);case 2:case"end":return e.stop()}}),e)}))),onClose:function(){S(!1)}}),2===s.execType?Object(m.jsx)(It,{injectionOrder:s}):Object(m.jsx)(ht,{injectionOrder:s})]})},wt=n(194),Ct=n.n(wt),kt=n(72),Dt=n(411),Et=n(406),Nt=n(441),Tt=n(143),Ft=n.n(Tt),At=function(e){var t,n=e.patientId,a=e.summary,c=e.status,i=e.executes,o=Object(r.useState)(!1),s=Object(f.a)(o,2),u=s[0],l=s[1],d=Object(r.useState)(""),j=Object(f.a)(d,2),b=j[0],x=j[1],O=function(e){return b?b!==e?(x(e),void(u||l(!u))):void l(!u):(l(!u),void x(e))},p=Object(m.jsxs)(L.a,{container:!0,spacing:2,children:[Object(m.jsx)(L.a,{item:!0,xs:4,children:Object(m.jsx)(k.a,{size:"small",onClick:function(){return O("summary")},children:u&&"summary"===b?"\u9589\u3058\u308b":"\u30aa\u30fc\u30c0\u5185\u5bb9"})}),Object(m.jsx)(L.a,{item:!0,xs:4,children:Object(m.jsx)(k.a,{size:"small",onClick:function(){return O("status")},children:u&&"status"===b?"\u9589\u3058\u308b":"\u53d7\u4ed8\u5185\u5bb9"})}),Object(m.jsx)(L.a,{item:!0,xs:4,children:Object(m.jsx)(k.a,{size:"small",onClick:function(){return O("execute")},children:u&&"execute"===b?"\u9589\u3058\u308b":"\u5b9f\u65bd\u5185\u5bb9"})})]}),v=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(X.a,{}),Object(m.jsx)(M.a,{children:(t=b,"summary"===t?a.split(/(\n)/).filter((function(e){return null===/\n/.exec(e)})).map((function(e,t){return Object(m.jsx)(P.a,{children:e},"summary-".concat(String(t)))})):"status"===t?c.split(/(\n)/).filter((function(e){return null===/\n/.exec(e)})).map((function(e,t){return Object(m.jsx)(P.a,{children:e},"status-".concat(String(t)))})):"execute"===t?i.map((function(e){return Object(m.jsxs)(z.a,{variant:"outlined",children:[Object(m.jsx)(bt.a,{avatar:e.isExecuteTarget?Object(m.jsx)(Ye.a,{"aria-label":"execute",children:Object(m.jsx)(Ft.a,{fontSize:"medium"})}):Object(m.jsx)(Ye.a,{"aria-label":"execute",sx:{opacity:0},children:Object(m.jsx)(Ft.a,{fontSize:"medium"})}),title:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(P.a,{variant:"h5",component:"div",children:e.formulationName},e.formulationName)})}),Object(m.jsx)(M.a,{children:(t=e,"\u88fd\u9020\u756a\u53f7\uff1a".concat(t.formulationNo,"\n  \u4f7f\u7528\u65e5\uff1a").concat(t.executeDate,"\n  \u5b9f\u65bd\u8005\uff1a").concat(t.executeStaffName,"\n  \u5b9f\u65bd\u533a\u5206\uff1a").concat(t.executeTypeName,"\n  \u30d5\u30a3\u30eb\u30bf\uff1a").concat(t.filterTypeName,"\n  \u526f\u4f5c\u7528\uff1a").concat(t.sideEffectNames,"\n  ")).split(/(\n)/).filter((function(e){return null===/\n/.exec(e)})).map((function(e,t){return Object(m.jsx)(P.a,{children:e},"content-".concat(String(t)))}))})]},e.formulationNo);var t})):null)})]});return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(pt,{patientId:n,cardActions:p,cardContent:v,displayContent:u})})},Ht=function(e){var t=e.patientId,n=e.summary,r=e.status,a=e.executes;return Object(m.jsx)(At,{patientId:t,summary:n,status:r,executes:a})},Lt=function(e){var t=e.issueName,n=e.deputeIssueName,r=e.issueDate,a=e.auditName,c=e.auditDate,i=function(e){return 2===e?"\u672a\u5b9f\u65bd":3===e?"\u5b9f\u65bd\u4e2d":4===e?"\u5b9f\u65bd\u5b8c\u4e86":""}(e.orderStatus);return"\u4f9d\u983c\u533b\uff1a".concat(t,"\n    \u4ee3\u7406\u5165\u529b\u8005\uff1a").concat(n,"\n    \u4f9d\u983c\u65e5\u6642\uff1a").concat(r,"\n    \u5b9f\u65bd\u8005\uff1a").concat(a,"\n    \u5b9f\u65bd\u65e5\u6642\uff1a").concat(c,"\n    \u30aa\u30fc\u30c0\u72b6\u614b\uff1a").concat(i,"\n    ").replaceAll("null","")},Mt=function(e){var t=e.execTypeItems,n=e.handleOnChange,r=e.defaultExecuteType,a=e.label,c=void 0===a?"":a,i=e.error,o=e.helperText;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(Ke.a,{error:i,children:[Object(m.jsx)(Dt.a,{id:"exec-type-label",children:c}),Object(m.jsx)(Et.a,{labelId:"exec-type-label",id:"exec-type",label:"\u5b9f\u65bd\u533a\u5206",value:r,onChange:function(e){return n(e.target.value)},sx:{width:250},children:t.map((function(e){return Object(m.jsx)(Nt.a,{value:e.value,children:e.name},e.value)}))}),Object(m.jsx)(Xe.a,{children:o})]})})},Pt=function(e){var t=e.value,n=e.label,a=e.onChange,c=e.error,i=e.helperText,o=e.displayExecuteTypes,s=void 0===o?["DELIVERY","EXECUTE","RETURN"]:o,u=Object(r.useState)([]),l=Object(f.a)(u,2),d=l[0],x=l[1];Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("orders/transfusions/executes/types").json();case 3:t=e.sent,n=t.executeTypes.filter((function(e){return s.findIndex((function(t){return t===e.type}))>-1})),x(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error");case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}}),e,null,[[0,8,11,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[s]);return Object(m.jsx)(Mt,{execTypeItems:d,handleOnChange:function(e){var t=d.find((function(t){return String(t.value)===e}));a&&a(t)},defaultExecuteType:String(t),label:n,error:c,helperText:i})},Rt=n(420),zt=n(407),Wt={PaperProps:{style:{maxHeight:224,width:250}}},Vt=function(e){var t=e.items,n=e.label,r=e.values,a=void 0===r?[]:r,c=e.onChange,i=function(e,t){return t.map((function(t){return e.find((function(e){return e.value===t}))||{name:"",value:0}})).filter((function(e){return e.value})).map((function(e){return e.name}))}(t,a);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(Ke.a,{sx:{m:1,width:300},children:[Object(m.jsx)(Dt.a,{id:"multiple-checkbox-label",children:n}),Object(m.jsx)(Et.a,{labelId:"multiple-checkbox-label",id:"multiple-checkbox",multiple:!0,value:a,onChange:function(e){var n=e.target.value,r="string"===typeof n?[n]:n.slice().sort();if(c){var a=t.filter((function(e){return r.findIndex((function(t){return t===e.value}))>-1}));c(a)}},input:Object(m.jsx)(Rt.a,{label:"Tag"}),renderValue:function(e){return i.join(", ")},MenuProps:Wt,children:t.map((function(e){return Object(m.jsxs)(Nt.a,{value:e.value,children:[Object(m.jsx)(zt.a,{checked:a.findIndex((function(t){return t===e.value}))>-1}),Object(m.jsx)(Z.a,{primary:e.name})]},e.name)}))})]})})},qt=function(e){var t=e.items,n=e.label,r=void 0===n?"":n,a=e.values,c=void 0===a?[]:a,i=e.onChange;return Object(m.jsx)(Vt,{items:t,label:r,values:c,onChange:i})},Bt=function(e){var t=e.items,n=e.label,r=e.sideEffectIds,a=e.onChange;return Object(m.jsx)(qt,{items:t,label:n,values:r,onChange:a})},_t=function(e){var t=e.label,n=void 0===t?"":t,a=e.sideEffectIds,c=void 0===a?[]:a,i=e.onChange,o=Object(r.useState)([]),s=Object(f.a)(o,2),u=s[0],l=s[1],d=Object(r.useState)([]),x=Object(f.a)(d,2),O=x[0],v=x[1];Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("orders/transfusions/executes/side-effects").json();case 3:t=e.sent,l(t.sideEffects),v(t.sideEffects.map((function(e){return{name:e.sideEffectName,value:String(e.sideEffectMstId)}}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error");case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}}),e,null,[[0,8,11,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);return Object(m.jsx)(Bt,{items:O,label:n,sideEffectIds:c?c.map((function(e){return String(e)})):[],onChange:function(e){var t=u.filter((function(t){return e.findIndex((function(e){return Number(e.value)===t.sideEffectMstId}))>-1}));i&&i(t)}})},Gt=n(442),Ut=n(405),Kt=n(391),Jt=n(422),Yt=n(403),Xt=n(423),$t=n(193),Qt=n.n($t),Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(r.useState)(e),n=Object(f.a)(t,2),a=n[0],c=n[1],i=Object(r.useCallback)((function(){return c(!0)}),[]),o=Object(r.useCallback)((function(){return c(!1)}),[]),s=Object(r.useCallback)((function(){return c((function(e){return!e}))}),[]);return{isOpen:a,open:i,close:o,toggle:s}},en=function(e){var t=e.options,n=e.onClick,a=e.defaultSelectedIndex,c=void 0===a?0:a,i=e.fixed,o=void 0!==i&&i,s=e.right,u=void 0===s?0:s,l=e.bottom,d=void 0===l?0:l,j=Zt(),b=j.isOpen,x=j.toggle,O=j.close,p=Object(r.useRef)(null),v=Object(r.useState)(c),h=Object(f.a)(v,2),g=h[0],y=h[1],S=o?{position:"fixed",right:u,bottom:d}:void 0,w=function(e){p.current&&p.current.contains(e.target)||O()};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(Gt.a,{sx:S,variant:"contained",ref:p,children:[Object(m.jsx)(k.a,{size:"large",onClick:function(){n(g)},children:t[g]}),Object(m.jsx)(k.a,{size:"small",onClick:function(){x()},children:Object(m.jsx)(Qt.a,{})})]}),Object(m.jsx)(Ut.a,{open:b,anchorEl:p.current,transition:!0,disablePortal:!0,children:function(e){var n=e.TransitionProps,r=e.placement;return Object(m.jsx)(Kt.a,Object(I.a)(Object(I.a)({},n),{},{style:{transformOrigin:"bottom"===r?"center top":"center bottom"},children:Object(m.jsx)(Jt.a,{children:Object(m.jsx)(Yt.a,{onClickAway:w,children:Object(m.jsx)(Xt.a,{id:"split-button-menu",children:t.map((function(e,t){return Object(m.jsx)(Nt.a,{selected:t===g,onClick:function(e){return function(e,t){y(t),O()}(0,t)},children:e},e)}))})})})}))}})]})},tn=function(e){var t=e.options,n=e.onClick,r=e.defaultSelectedIndex,a=e.fixed,c=e.right,i=e.bottom;return Object(m.jsx)(en,{options:t,onClick:n,defaultSelectedIndex:r,fixed:a,right:c,bottom:i})},nn=N.a({}),rn=function(e){var t,n,a=e.transfusionOrder,c=e.deliveryFormulation,i=e.handleExecute,o=c.formulationName,s=c.formulationNo,u=c.formulationCode,l=Object(r.useState)(0),d=Object(f.a)(l,2),j=(d[0],d[1],Lt(a)),b=a.content.deliveryFormulations.map((function(e){return function(e,t,n){var r=e.formulationCode,a=e.formulationNo,c=e.formulationName,i=r===n&&a===t,o=e.execute;return o?{isExecuteTarget:i,formulationName:c,formulationNo:a,executeDate:o.executeDate,executeStaffName:o.executeStaffName,executeTypeName:o.executeTypeName,filterTypeName:o.filterTypeName,sideEffectNames:o.sideEffects.map((function(e){return e.sideEffectName})).join(",")}:{isExecuteTarget:i,formulationName:c,formulationNo:a,executeDate:"",executeStaffName:"",executeTypeName:"",filterTypeName:"",sideEffectNames:""}}(e,s,u)})),x=c.execute,O=Object(D.e)({resolver:Object(E.a)(nn),defaultValues:{executeDate:x?x.executeDate:"",executeStaffId:x?x.executeStaffId:0,executeType:x?x.executeType:1,filterType:x?x.filterType:1,sideEffectIds:x?x.sideEffects.map((function(e){return e.sideEffectMstId})):[]}}),p=O.register,v=O.handleSubmit,h=O.control,g=O.formState.errors,y=function(e){var t=e.executeDate,n=e.executeStaffId,r=e.executeType,a=e.filterType,c=e.sideEffectIds;console.log("asdf123"),i({executeDate:t,executeStaffId:n,executeType:r,filterType:a,sideEffectIds:c})};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(w.a,{component:"form",noValidate:!0,spacing:3,paddingTop:"25px",sx:{flexGrow:1},children:[Object(m.jsx)(Ht,{patientId:a.patientId,summary:a.summary,status:j,executes:b}),Object(m.jsx)(C.a,{disabled:!0,id:"formuration-name",label:"\u88fd\u5264\u540d",variant:"filled",defaultValue:o,InputProps:{readOnly:!0}}),Object(m.jsx)(C.a,{disabled:!0,id:"formuration-number",label:"\u88fd\u5264\u756a\u53f7",variant:"filled",defaultValue:s,InputProps:{readOnly:!0}}),Object(m.jsx)(C.a,Object(I.a)({id:"exec-date",label:"\u4f7f\u7528\u65e5\u6642",type:"datetime-local",defaultValue:Object(Te.a)(new Date,"yyyy-MM-dd'T'HH:mm"),sx:{width:250},InputLabelProps:{shrink:!0},error:"executeDate"in g,helperText:null===(t=g.executeDate)||void 0===t?void 0:t.message},p("executeDate"))),Object(m.jsx)(D.a,{control:h,name:"executeStaffId",render:function(e){var t,n=e.field,r=n.onChange,a=n.value;return Object(m.jsx)(tt,{label:"\u5b9f\u65bd\u8005",defaultStaffId:a,onChange:function(e){return r(null===e||void 0===e?void 0:e.staffId)},error:"executeStaffId"in g,helperText:null===(t=g.executeStaffId)||void 0===t?void 0:t.message})}}),Object(m.jsx)(D.a,{control:h,name:"executeType",render:function(e){var t,n=e.field,r=n.onChange,a=n.value;return Object(m.jsx)(Pt,{label:"\u5b9f\u65bd\u533a\u5206",displayExecuteTypes:["EXECUTE","RETURN"],onChange:function(e){return r(null===e||void 0===e?void 0:e.value)},value:a,error:"executeType"in g,helperText:null===(t=g.executeType)||void 0===t?void 0:t.message})}}),Object(m.jsxs)(Ke.a,{error:"filterType"in g,children:[Object(m.jsx)(Dt.a,{id:"filter-use-flg-label",children:"\u30d5\u30a3\u30eb\u30bf"}),Object(m.jsxs)(Et.a,Object(I.a)(Object(I.a)({labelId:"filter-use-flg-label",id:"filter-use-flg",label:"\u30d5\u30a3\u30eb\u30bf",defaultValue:1,sx:{width:250}},p("filterType")),{},{children:[Object(m.jsx)(Nt.a,{value:1,children:"\u4f7f\u7528"}),Object(m.jsx)(Nt.a,{value:2,children:"\u672a\u4f7f\u7528"})]})),Object(m.jsx)(Xe.a,{children:null===(n=g.filterType)||void 0===n?void 0:n.message})]}),Object(m.jsx)(D.a,{control:h,name:"sideEffectIds",render:function(e){var t=e.field,n=t.value,r=t.onChange;return Object(m.jsx)(_t,{label:"\u526f\u4f5c\u7528",sideEffectIds:n,onChange:function(e){r(e.map((function(e){return e.sideEffectMstId})))}})}}),Object(m.jsx)(tn,{options:["\u5b9f\u65bd\u5165\u529b","\u5b9f\u65bd\u5165\u529b\u3057\u3066\u30aa\u30fc\u30c0\u5b8c\u4e86"],fixed:!0,right:15,bottom:15,onClick:function(e){alert(e),v(y)}})]})})},an=function(e){var t=e.patientId,n=void 0===t?"2730":t,a=e.formulationCode,c=void 0===a?"0393012":a,i=e.formulationNo,o=void 0===i?"123456":i,s=Object(r.useState)(void 0),u=Object(f.a)(s,2),l=u[0],d=u[1],x=Object(r.useState)(void 0),O=Object(f.a)(x,2),v=O[0],h=O[1],g=Object(r.useState)(!1),y=Object(f.a)(g,2),I=y[0],S=y[1];Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,p.get("orders/transfusions",{searchParams:{patientId:n,formulationCode:c,formulationNo:o}}).json();case 4:t=e.sent,d(t.transfusionOrder),t.transfusionOrder&&(r=t.transfusionOrder.content.deliveryFormulations,a=r.find((function(e){return e.formulationCode===c&&e.formulationNo===o})),h(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error");case 12:return e.prev=12,S(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[n,c,o]);var C=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,a,i,s,u,d,b,f;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return n=l.orderHeaderId,r=l.orderStatus,a=l.version,i=t.executeDate,s=t.executeStaffId,u=t.executeType,d=t.filterType,b=t.sideEffectIds,f={orderHeaderId:n,version:a,orderStatus:r,updateStaffId:10008,execute:{formulationCode:c,formulationNo:o,executeDate:i,executeStaffId:s,executeType:u,filterType:d,sideEffectIds:b}},e.prev=5,e.next=8,p.patch("orders/transfusions",{json:f,timeout:!1}).json();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),alert("error");case 13:return e.prev=13,alert("finally"),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[5,10,13,16]])})));return function(t){return e.apply(this,arguments)}}();return I?Object(m.jsx)(H.a,{sx:{display:"flex"},children:Object(m.jsx)(ft.a,{})}):l&&v?Object(m.jsx)(rn,{transfusionOrder:l,deliveryFormulation:v,handleExecute:C}):Object(m.jsxs)(w.a,{component:"form",noValidate:!0,spacing:0,paddingTop:"25px",sx:{flexGrow:1},children:[Object(m.jsxs)(H.a,{sx:{display:"flex"},children:[Object(m.jsx)(Ct.a,{sx:{color:kt.a[500]}}),Object(m.jsx)(P.a,{children:"\u30aa\u30fc\u30c0\u304c\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002"})]}),Object(m.jsxs)(P.a,{children:["\u60a3\u8005ID\uff1a",n]}),Object(m.jsxs)(P.a,{children:["\u88fd\u5264\u30b3\u30fc\u30c9\uff1a",c]}),Object(m.jsxs)(P.a,{children:["\u88fd\u5264\u756a\u53f7\uff1a",o]})]})},cn=function(e){var t=e.patientId,n=e.formurationCode,r=e.formurationNumber,a=e.dialogOpen,c=e.onScan,i=e.setDialogOpen,o=e.transit;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(he,{alertOpen:a,message:"\u60a3\u8005ID\uff1a".concat(t,"\n      \u88fd\u5264\u30b3\u30fc\u30c9\uff1a").concat(n,"\n      \u88fd\u5264\u756a\u53f7\uff1a").concat(r),toggleAlert:function(){i(!1)},onEmpty:function(){i(!1),o()}}),Object(m.jsx)(H.a,{paddingTop:"25px",sx:{flexGrow:1},children:Object(m.jsxs)(L.a,{container:!0,spacing:2,children:[Object(m.jsx)(L.a,{item:!0,xs:12,children:Object(m.jsx)(C.a,{id:"patient-id",label:"\u60a3\u8005ID",color:"success",value:t,focused:!!t,InputProps:{startAdornment:Object(m.jsx)(G.a,{position:"start",children:Object(m.jsx)(U.a,{})})},fullWidth:!0})}),Object(m.jsx)(L.a,{item:!0,xs:6,children:Object(m.jsx)(C.a,{id:"formuration-code",label:"\u88fd\u5264\u30b3\u30fc\u30c9",color:"success",value:n,focused:!!n,fullWidth:!0})}),Object(m.jsx)(L.a,{item:!0,xs:6,children:Object(m.jsx)(C.a,{id:"formuration-number",label:"\u88fd\u5264\u756a\u53f7",color:"success",value:r,focused:!!r,fullWidth:!0})}),Object(m.jsx)(L.a,{item:!0,xs:12,children:Object(m.jsx)(ge,{onScan:c})})]})})]})},on=function(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(f.a)(c,2),o=i[0],s=i[1],l=Object(r.useState)(""),d=Object(f.a)(l,2),j=d[0],b=d[1],x=Object(r.useState)(""),O=Object(f.a)(x,2),p=O[0],v=O[1],h=Object(r.useState)(!1),g=Object(f.a)(h,2),y=g[0],I=g[1],S=Object(u.h)();return Object(r.useEffect)((function(){n?o?j||b(p):s(p):a(p)}),[p]),Object(r.useEffect)((function(){n&&o&&j&&I(!0)}),[o,j,n]),Object(m.jsx)(cn,{patientId:n,formurationCode:o,formurationNumber:j,dialogOpen:y,onScan:function(e){v(e)},setDialogOpen:I,transit:function(){return S("/transfusion")}})},sn=n(195),un=function(e){var t=e.error.message;return Object(m.jsxs)(S.a,{children:[Object(m.jsx)(P.a,{variant:"h4",gutterBottom:!0,component:"div",children:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002"}),Object(m.jsx)(P.a,{variant:"h5",gutterBottom:!0,component:"div",children:t}),Object(m.jsx)(k.a,{variant:"contained",onClick:function(){return window.location.assign(window.location.origin)},children:"\u30e1\u30cb\u30e5\u30fc\u306b\u623b\u308b"})]})},ln=function(e){var t=e.children;return Object(m.jsx)(sn.ErrorBoundary,{FallbackComponent:un,children:Object(m.jsx)(y,{children:t})})},dn=n(443),jn=n(444),bn=n(196),fn=n.n(bn),xn=function(e){var t=e.onDrawerToggle,n=g();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(H.a,{sx:{flexGrow:1},children:Object(m.jsx)(dn.a,{position:"static",children:Object(m.jsx)(jn.a,{children:Object(m.jsxs)(L.a,{container:!0,spacing:1,alignItems:"center",children:[Object(m.jsx)(L.a,{sx:{display:{sm:"none",xs:"block"}},item:!0,children:Object(m.jsx)(Ye.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:t,children:Object(m.jsx)(fn.a,{})})}),Object(m.jsx)(L.a,{item:!0,children:Object(m.jsx)(P.a,{children:"\u30e1\u30a4\u30f3\u30e1\u30cb\u30e5\u30fc"})}),Object(m.jsx)(L.a,{item:!0,xs:!0}),Object(m.jsx)(L.a,{item:!0,children:Object(m.jsx)(P.a,{children:n?"".concat(n.staffName):""})})]})})})})})},On=function(){var e=null!=g(),t=Zt(),n=t.isOpen,r=t.open,a=t.toggle;return e?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(xn,{onDrawerToggle:a}),Object(m.jsx)(de,{drawerOpen:n,toggleDrawer:a,onOpen:r}),Object(m.jsx)(u.b,{})]}):Object(m.jsx)(u.a,{to:"/login"})},pn=function(){var e=g();return(null===e||void 0===e?void 0:e.loggedIn)?Object(m.jsx)(u.a,{to:"/main"}):Object(m.jsx)(A,{})},mn=function(){return Object(m.jsx)(ln,{children:Object(m.jsx)(l.a,{basename:"/pwa-sample",children:Object(m.jsxs)(u.e,{children:[Object(m.jsxs)(u.c,{path:"/",element:Object(m.jsx)(On,{}),children:[Object(m.jsx)(u.c,{path:"/",element:Object(m.jsx)(Se,{})}),Object(m.jsx)(u.c,{path:"/barcode",element:Object(m.jsx)(ge,{})}),Object(m.jsx)(u.c,{path:"/main",element:Object(m.jsx)(_,{})}),Object(m.jsx)(u.c,{path:"/injectionexecutedrop",element:Object(m.jsx)(St,{})}),Object(m.jsx)(u.c,{path:"/injectionexecute/:patientId/:orderHeaderId",element:Object(m.jsx)(St,{})}),Object(m.jsx)(u.c,{path:"/transfusioncheck",element:Object(m.jsx)(on,{})}),Object(m.jsx)(u.c,{path:"/transfusion",element:Object(m.jsx)(an,{})})]}),Object(m.jsx)(u.c,{path:"/login",element:Object(m.jsx)(pn,{}),children:Object(m.jsx)(u.c,{path:"/login",element:Object(m.jsx)(A,{})})})]})})})};(function(){})(),i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(mn,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/pwa-sample",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/pwa-sample","/service-worker.js");o?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):s(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):s(t,e)}))}}()}},[[341,1,2]]]);
//# sourceMappingURL=main.4ea5484f.chunk.js.map