(this.webpackJsonpkarteweb=this.webpackJsonpkarteweb||[]).push([[0],{181:function(e){e.exports=JSON.parse('[{"displayName":"\u6ce8\u5c04\u5b9f\u65bd","description":"Injection","navigation":"/injectionexecute"},{"displayName":"\u6ce8\u5c04\u5b9f\u65bd(\u70b9\u6ef4)","description":"Injection Drop","navigation":"/injectionexecutedrop"},{"displayName":"\u8f38\u8840\u5b9f\u65bd","description":"Transfusion","navigation":"/transfusioncheck"},{"displayName":"\u8f38\u8840\u5b9f\u65bd\u5165\u529b","description":"Transfusion","navigation":"/transfusion"},{"displayName":"\u30d0\u30fc\u30b3\u30fc\u30c9\u30ea\u30fc\u30c0\u30fc","description":"Barcode Reader","navigation":"/barcode"},{"displayName":"\u8a2d\u5b9a","description":"Options","navigation":"/"},{"displayName":"\u8a2d\u5b9a2","description":"Options","navigation":"/injectionexecute/2310/4291359"}]')},183:function(e){e.exports=JSON.parse('{"name":"karteweb","version":"0.1.0","private":true,"dependencies":{"@emotion/react":"^11.4.1","@emotion/styled":"^11.3.0","@ericblade/quagga2":"^1.4.2","@hookform/resolvers":"^2.8.3","@mui/icons-material":"^5.0.3","@mui/lab":"^5.0.0-alpha.49","@mui/material":"^5.0.1","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^12.0.0","@testing-library/user-event":"^13.2.1","@types/jest":"^27.0.1","@types/node":"^16.6.1","@types/react":"^17.0.0","@types/react-dom":"^17.0.0","date-fns":"^2.24.0","history":"^5.0.1","ky":"^0.28.7","react":"^17.0.2","react-dom":"^17.0.2","react-error-boundary":"^3.1.4","react-hook-form":"^7.20.2","react-router":"^6.0.2","react-router-dom":"^6.0.2","react-scripts":"4.0.3","typescript":"^4.3.5","web-vitals":"^2.1.0","workbox-background-sync":"^5.1.3","workbox-broadcast-update":"^5.1.3","workbox-cacheable-response":"^5.1.3","workbox-core":"^5.1.3","workbox-expiration":"^5.1.3","workbox-google-analytics":"^5.1.3","workbox-navigation-preload":"^5.1.3","workbox-precaching":"^5.1.3","workbox-range-requests":"^5.1.3","workbox-routing":"^5.1.3","workbox-strategies":"^5.1.3","workbox-streams":"^5.1.3","yup":"^0.32.11"},"scripts":{"start":"craco start","build":"craco build","test":"craco test","eject":"craco eject","lint":"npm run -s lint:style; npm run -s lint:es","fix":"npm run -s format && npm run -s lint:fix","format":"prettier --write --loglevel=warn \'{public,src}/**/*.{js,jsx,ts,tsx,html,gql,graphql,json}\'","lint:fix":"npm run -s lint:style:fix && npm run -s lint:es:fix","lint:es":"eslint \'src/**/*.{js,jsx,ts,tsx}\'","lint:es:fix":"eslint --fix \'src/**/*.{js,jsx,ts,tsx}\'","lint:conflict":"eslint --print-config .eslintrc.js | eslint-config-prettier-check","lint:style":"stylelint \'src/**/*.{css,less,sass,scss}\'","lint:style:fix":"stylelint --fix \'src/**/*.{css,less,sass,scss}\'","preinstall":"typesync || :","prepare":"simple-git-hooks > /dev/null"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@craco/craco":"^6.4.3","@types/prettier":"^2.3.2","@types/react-router":"^5.1.16","@types/react-router-dom":"^5.1.8","@types/stylelint":"^13.13.1","@types/testing-library__jest-dom":"^5.14.1","@types/testing-library__user-event":"^4.2.0","@types/yup":"^0.29.13","@typescript-eslint/eslint-plugin":"^4.29.2","@typescript-eslint/parser":"^4.29.2","eslint-config-airbnb":"^18.2.1","eslint-config-prettier":"^8.3.0","eslint-import-resolver-typescript":"^2.5.0","eslint-plugin-import":"^2.24.0","eslint-plugin-jsx-a11y":"^6.4.1","eslint-plugin-prefer-arrow":"^1.2.3","eslint-plugin-react":"^7.24.0","eslint-plugin-react-hooks":"^4.2.0","lint-staged":"^11.1.2","msw":"^0.36.3","prettier":"^2.3.2","simple-git-hooks":"^2.6.1","stylelint":"^13.13.1","stylelint-config-recess-order":"^2.5.0","stylelint-config-standard":"^22.0.0","stylelint-order":"^4.1.0"},"simple-git-hooks":{"pre-commit":"npx lint-staged"},"lint-staged":{"src/**/*.{js,jsx,ts,tsx}":["prettier --write --loglevel=error","eslint --fix --quiet"],"src/**/*.{css,less,sass,scss}":["stylelint --fix --quiet"],"{public,src}/**/*.{html,gql,graphql,json}":["prettier --write --loglevel=error"]},"msw":{"workerDirectory":"public"}}')},341:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(66),i=n.n(a),o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/.exec(window.location.hostname));function s(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u=n(16),l=n(70),d=n(11),j=n.n(d),b=n(17),f=n(4),x=n(198),O=x.a.create({prefixUrl:"https://stoplight.io/mocks/ryu19j/karte/34129171"}),p=O,m=n(0),v=Object(r.createContext)(null),h=Object(r.createContext)({login:function(e){return new Error("Provider\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093")},logout:function(){return new Error("Provider\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093")}}),g=function(){return Object(r.useContext)(v)},y=function(){return Object(r.useContext)(h).logout},I=function(e){var t=e.children,n=Object(r.useState)(null),c=Object(f.a)(n,2),a=c[0],i=c[1],o=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.staffId,r=t.password,e.prev=1,e.next=4,p.post("login",{json:{staffId:n,password:r},timeout:!1}).json();case 4:c=e.sent,console.log(c),c.loggedIn&&i(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i({loggedIn:!0,staffId:"99999999",staffName:"\u30c6\u30b9\u30c8\u8077\u54e1"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(h.Provider,{value:{login:o,logout:function(){i(null)}},children:Object(m.jsx)(v.Provider,{value:a,children:t})})},S=n(20),w=n(418),C=n(383),k=n(419),D=n(425),E=n(43),N=n(123),T=n(55),F=T.b({staffId:T.c().required("\u8077\u54e1ID\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),password:T.c().required("\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002")}),A=function(e){var t,n,r=e.onLogin,c=Object(E.e)({resolver:Object(N.a)(F)}),a=c.register,i=c.handleSubmit,o=c.formState.errors;return Object(m.jsx)(w.a,{maxWidth:"sm",children:Object(m.jsxs)(C.a,{spacing:2,children:[Object(m.jsx)(k.a,Object(S.a)({id:"staff-id",label:"\u8077\u54e1ID",type:"number",required:!0,defaultValue:"10008",error:"staffId"in o,helperText:null===(t=o.staffId)||void 0===t?void 0:t.message},a("staffId"))),Object(m.jsx)(k.a,Object(S.a)({id:"staff-password",label:"\u30d1\u30b9\u30ef\u30fc\u30c9",type:"password",required:!0,defaultValue:"Llanowar12$",autoComplete:"current-password",error:"password"in o,helperText:null===(n=o.password)||void 0===n?void 0:n.message},a("password"))),Object(m.jsx)(D.a,{variant:"contained",onClick:i((function(e){var t=e.staffId,n=e.password;r(t,n)})),children:"\u30ed\u30b0\u30a4\u30f3"})]})})},L=function(){var e=Object(r.useContext)(h).login;return Object(m.jsx)(A,{onLogin:function(t,n){e({staffId:t,password:n})}})},H=n(428),M=n(416),P=n(426),R=n(100),z=n(427),W=n(429),q=n(181),V=function(e){var t=e.displayName,n=e.description,r=e.navigation,c=Object(u.h)();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(P.a,{children:[Object(m.jsx)(R.a,{variant:"h5",component:"div",children:t}),Object(m.jsx)(R.a,{sx:{mb:1.5},color:"text.secondary",children:n})]}),Object(m.jsx)(z.a,{children:Object(m.jsx)(D.a,{variant:"contained",size:"large",onClick:function(){return c(r)},children:"Start"})})]})},B=function(){return Object(m.jsx)(H.a,{sx:{flexGrow:1},children:Object(m.jsx)(M.a,{container:!0,spacing:1,children:q.map((function(e){var t=e.displayName,n=e.description,r=e.navigation;return Object(m.jsx)(M.a,{item:!0,xs:6,children:Object(m.jsx)(W.a,{variant:"outlined",children:Object(m.jsx)(V,{displayName:t,description:n,navigation:r})})},t)}))})})},_=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(B,{})})},G=function(){return Object(m.jsx)(_,{})},U=n(437),K=n(399),J=n(430),Y=n(431),X=n(432),$=n(182),Q=n.n($),Z=function(e){var t=e.onDrawerToggle,n=g();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(H.a,{sx:{flexGrow:1},children:Object(m.jsx)(J.a,{position:"static",children:Object(m.jsx)(Y.a,{children:Object(m.jsxs)(M.a,{container:!0,spacing:1,alignItems:"center",children:[Object(m.jsx)(M.a,{sx:{display:{sm:"none",xs:"block"}},item:!0,children:Object(m.jsx)(X.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:t,children:Object(m.jsx)(Q.a,{})})}),Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(R.a,{children:"\u30e1\u30a4\u30f3\u30e1\u30cb\u30e5\u30fc"})}),Object(m.jsx)(M.a,{item:!0,xs:!0}),Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(R.a,{children:n?"".concat(n.staffName):""})})]})})})})})},ee=n(417),te=n(413),ne=n(414),re=n(395),ce=n(410),ae=n(396),ie=n(397),oe=n(187),se=n.n(oe),ue=n(184),le=n.n(ue),de=n(5),je=n(393),be=n(394),fe=n(183),xe=Object(de.a)("div")((function(){return{width:250}})),Oe=Object(de.a)("div")((function(){return{height:150,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1em",backgroundColor:je.a[500],color:"#ffffff"}})),pe=Object(de.a)(te.a)((function(e){var t=e.theme;return{backgroundColor:be.a[500],width:t.spacing(6),height:t.spacing(6)}})),me=function(e){var t=e.drawerOpen,n=void 0!==t&&t,r=e.toggleDrawer,c=e.onOpen;return Object(m.jsx)(ne.a,{variant:"temporary",open:n,onClose:r,children:Object(m.jsxs)(xe,{role:"presentation",onClick:r,children:[Object(m.jsxs)(Oe,{children:[Object(m.jsx)(pe,{children:Object(m.jsx)(le.a,{})}),Object(m.jsxs)("p",{children:["Version : v",fe.version]})]}),Object(m.jsxs)(ee.a,{children:[Object(m.jsx)(re.a,{}),Object(m.jsxs)(ce.a,{button:!0,onClick:c,"aria-label":"share",children:[Object(m.jsx)(ae.a,{children:Object(m.jsx)(se.a,{})}),Object(m.jsx)(ie.a,{secondary:"\u3053\u306e\u30a2\u30d7\u30ea\u3092\u5171\u6709"})]})]})]})})},ve=n(84),he=n.n(ve),ge=n(433),ye=n(436),Ie=n(434),Se=n(435),we=n(398),Ce=Object(de.a)(ge.a)((function(){return{fontFamily:"-apple-system, BlinkMacSystemFont, Roboto, sans-serif"}})),ke=function(e){var t=e.message,n=void 0===t?"\u672c\u5f53\u306b\u3054\u307f\u7bb1\u3092\u5b8c\u5168\u306b\u7a7a\u306b\u3057\u307e\u3059\u304b\uff1f":t,r=e.alertOpen,c=e.toggleAlert,a=e.onEmpty;return Object(m.jsxs)(Ce,{open:r,onClose:c,children:[Object(m.jsx)(we.a,{children:"\u30d0\u30fc\u30b3\u30fc\u30c9\u8aad\u53d6"}),Object(m.jsx)(Ie.a,{children:Object(m.jsx)(Se.a,{children:n.split(/(\n)/).filter((function(e){return null===/\n/.exec(e)})).map((function(e){return Object(m.jsx)(R.a,{children:e})}))})}),Object(m.jsxs)(ye.a,{children:[Object(m.jsx)(D.a,{onClick:c,color:"primary","aria-label":"cancel",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),Object(m.jsx)(D.a,{onClick:function(){c(),a()},color:"secondary","aria-label":"ok",autoFocus:!0,children:"OK"})]})]})},De=function(e){var t=e.onScan,n=Object(r.useState)(""),c=Object(f.a)(n,2),a=c[0],i=c[1],o=Object(r.useState)(0),s=Object(f.a)(o,2),u=s[0],l=s[1],d=Object(r.useState)(!1),j=Object(f.a)(d,2),b=j[0],x=j[1],O=function(e){var t=e.codeResult.code;null!=t&&(t===a&&l((function(e){return e+1})),i((function(e){return t===e&&l((function(e){return e+1})),t})),x(!1))};return Object(r.useEffect)((function(){t&&u>=3&&(l(0),t(a))}),[u]),Object(r.useEffect)((function(){return he.a.init({inputStream:{type:"LiveStream",constraints:{width:{min:480},height:{min:200},facingMode:"environment",aspectRatio:{min:1,max:1}}},locator:{patchSize:"medium",halfSample:!1},numOfWorkers:2,frequency:10,decoder:{readers:["codabar_reader","ean_reader","code_128_reader"]},locate:!0},(function(e){return he.a.start(),function(){he.a.stop()}})),he.a.onDetected(O),function(){he.a.stop()}}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{id:"interactive",className:"viewport"}),Object(m.jsx)("p",{children:a||"\u8aad\u307f\u53d6\u308a\u4e2d..."}),Object(m.jsx)(ke,{message:a||"empty",alertOpen:b,onEmpty:function(){return x(!1)},toggleAlert:function(){return i("")}})]})},Ee=Object(de.a)(ge.a)((function(){return{fontFamily:"-apple-system, BlinkMacSystemFont, Roboto, sans-serif"}})),Ne=function(e){var t=e.message,n=void 0===t?"":t,r=e.dialogOpen,c=e.onClickOK,a=e.onClickCancel,i=e.onClose;return Object(m.jsxs)(Ee,{open:r,children:[Object(m.jsx)(we.a,{children:"\u78ba\u8a8d"}),Object(m.jsx)(Ie.a,{children:Object(m.jsx)(Se.a,{children:n.split(/(\n)/).filter((function(e){return null===/\n/.exec(e)})).map((function(e){return Object(m.jsx)(R.a,{children:e})}))})}),Object(m.jsxs)(ye.a,{children:[Object(m.jsx)(D.a,{onClick:function(){i(),a()},color:"primary","aria-label":"cancel",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),Object(m.jsx)(D.a,{onClick:function(){i(),c()},color:"secondary","aria-label":"ok",autoFocus:!0,children:"OK"})]})]})},Te=function(e){var t=e.drawerOpen,n=e.patientId,r=e.orderHeaderId,c=e.dialogOpen,a=e.toggleDrawer,i=e.onLogout,o=e.onScan,s=e.setDialogOpen,u=e.transit,l=e.onChangePatientId,d=e.onChangeOrderHeaderId;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Z,{onDrawerToggle:a}),Object(m.jsx)(me,{drawerOpen:t,toggleDrawer:a,onOpen:i}),Object(m.jsx)(Ne,{dialogOpen:c,message:"\u60a3\u8005ID\uff1a".concat(n,"\n      \u30aa\u30fc\u30c0ID\uff1a").concat(r),onClickCancel:function(){s(!1)},onClickOK:function(){u()},onClose:function(){s(!1)}}),Object(m.jsx)(H.a,{paddingTop:"25px",sx:{flexGrow:1},children:Object(m.jsxs)(M.a,{container:!0,spacing:2,children:[Object(m.jsx)(M.a,{item:!0,xs:6,children:Object(m.jsx)(k.a,{id:"patient-id",label:"\u60a3\u8005ID",color:"success",value:n,focused:!!n,InputProps:{startAdornment:Object(m.jsx)(U.a,{position:"start",children:Object(m.jsx)(K.a,{})})},fullWidth:!0,onChange:function(e){l(e.target.value)}})}),Object(m.jsx)(M.a,{item:!0,xs:6,children:Object(m.jsx)(k.a,{id:"order-id",label:"\u30aa\u30fc\u30c0ID",color:"success",value:r,focused:!!r,fullWidth:!0,onChange:function(e){d(e.target.value)}})}),Object(m.jsx)(M.a,{item:!0,xs:12,children:Object(m.jsx)(De,{onScan:o})})]})})]})},Fe=function(){var e=Object(r.useState)(!1),t=Object(f.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),i=Object(f.a)(a,2),o=i[0],s=i[1],l=Object(r.useState)(""),d=Object(f.a)(l,2),j=d[0],b=d[1],x=Object(r.useState)(""),O=Object(f.a)(x,2),p=O[0],v=O[1],h=Object(r.useState)(!1),g=Object(f.a)(h,2),I=g[0],S=g[1],w=y(),C=Object(u.h)();return Object(r.useEffect)((function(){o?j||b(p):s(p)}),[p]),Object(r.useEffect)((function(){o&&j&&S(!0)}),[j,o]),Object(m.jsx)(Te,{drawerOpen:n,toggleDrawer:function(){return c(!n)},onLogout:function(){return w()},patientId:o,orderHeaderId:j,onScan:function(e){var t=Number(e);v(String(t))},dialogOpen:I,setDialogOpen:S,transit:function(){return C("/injectionexecute/".concat(o,"/").concat(j))},onChangePatientId:s,onChangeOrderHeaderId:b})},Ae=n(401),Le=n(404),He=n(442),Me=n(415),Pe=n(412),Re=n(408),ze=n(121),We=n.n(ze),qe=n(439),Ve=n(438),Be=n(400),_e=n(188),Ge=n.n(_e),Ue=n(189),Ke=n.n(Ue),Je=function(e){var t=e.item,n=e.isExistChildren,r=e.level,c=e.onToggle,a=e.onItemSelect,i=e.open;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(Be.a,{sx:{pl:4*r},children:[Object(m.jsx)(ie.a,{primary:t.value,onClick:n?function(){return c(!i)}:function(){return a(t)}}),n&&(i?Object(m.jsx)(Ge.a,{}):Object(m.jsx)(Ke.a,{}))]})})},Ye=function e(t){var n=t.item,c=t.level,a=t.nestListItemClickAction,i=null!==n.children&&void 0!==n.children&&0!==n.children.length,o=Object(r.useState)(!1),s=Object(f.a)(o,2),u=s[0],l=s[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Je,{item:n,isExistChildren:i,level:c,onToggle:l,onItemSelect:a,open:u}),u&&function(){if(i){var t,r=c+1;return null===(t=n.children)||void 0===t?void 0:t.map((function(t){return Object(m.jsx)(Ve.a,{in:u,timeout:"auto",unmountOnExit:!0,children:Object(m.jsx)(ee.a,{disablePadding:!0,children:Object(m.jsx)(e,{item:t,level:r,nestListItemClickAction:a},null===t||void 0===t?void 0:t.itemId)})})}))}return null}()]})},Xe=function(e){var t=e.treeItems,n=e.nestListItemClickAction;return Object(m.jsx)(m.Fragment,{children:t.map((function(e){return Object(m.jsx)(Ye,{item:e,level:0,nestListItemClickAction:n},e.itemId)}))})},$e=function(e){var t=e.nestListItemClickAction,n=e.listDatas;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(ee.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},component:"nav","aria-labelledby":"nested-list-subheader",subheader:Object(m.jsx)(qe.a,{component:"div",id:"nested-list-subheader",children:"\u6295\u4e0e\u30eb\u30fc\u30c8\u9078\u629e"}),children:Object(m.jsx)(Xe,{treeItems:n,nestListItemClickAction:function(e){t(e)}})})})},Qe=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.patch("orders/injections",{json:t,timeout:!1}).json();case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ze=Qe,et=n(421),tt=n(347),nt=n(424),rt=n(190),ct=n.n(rt),at=function(e){var t=e.staffNames,n=e.handleClickIcon,r=e.handleOnChange,c=e.staffName,a=e.label,i=e.error,o=e.helperText,s=e.disabled;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(et.a,{error:i,children:Object(m.jsxs)(C.a,{spacing:0,children:[Object(m.jsxs)(C.a,{direction:"row",spacing:0,children:[Object(m.jsx)(tt.a,{id:"combo-box-demo",options:t,value:c,onChange:function(e,t){return r(t)},sx:{width:300},renderInput:function(e){return Object(m.jsx)(k.a,Object(S.a)(Object(S.a)({},e),{},{error:i,label:a}))},disabled:s}),!s&&Object(m.jsx)(X.a,{color:"primary",component:"span",onClick:n,children:Object(m.jsx)(ct.a,{})})]}),Object(m.jsx)(nt.a,{children:o})]})})})},it=function(e){var t=e.staffId,n=e.firstName,r=e.lastName;return"".concat(r," ").concat(n," (ID:").concat(t,")")},ot=function(e){var t=e.defaultStaffId,n=void 0===t?0:t,c=e.label,a=void 0===c?"":c,i=e.onChange,o=e.error,s=e.helperText,u=e.disabled,l=void 0!==u&&u,d=Object(r.useState)([]),x=Object(f.a)(d,2),O=x[0],v=x[1],h=Object(r.useState)([]),y=Object(f.a)(h,2),I=y[0],S=y[1],w=g();Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("staffs").json();case 3:t=e.sent,v(t.staffs),n=t.staffs.map((function(e){return it(e)})),S(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error");case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}}),e,null,[[0,9,12,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var C=function(e,t){if(!t)return"";var n=e.find((function(e){return e.staffId===t}));return n?it(n):""}(O,n);return Object(m.jsx)(at,{staffNames:I,handleClickIcon:function(){if(w){var e=O.find((function(e){return String(e.staffId)===w.staffId}));e&&i&&i(e)}},handleOnChange:function(e){var t=O.find((function(t){return e===it(t)}));i&&i(t)},staffName:C,label:a,error:o,helperText:s,disabled:l})},st=n(85),ut=n(191),lt=n.n(ut),dt=n(192),jt=n.n(dt),bt=n(193),ft=n.n(bt),xt=n(402),Ot=function(e){var t=e.defaultExecute,n=e.onInput,c=e.executes,a=e.isShowRemainAmount,i=e.totalAmount,o=e.reserveDate,s=Object(r.useState)(t.injectionExecutionId),u=Object(f.a)(s,2),l=u[0],d=u[1],x=g(),O=Object(r.useState)(!1),v=Object(f.a)(O,2),h=v[0],y=v[1],I=function(){y(!h)},w=Object(r.useState)(t.injectionRouteMstId),E=Object(f.a)(w,2),N=E[0],T=E[1],F=Object(r.useState)([]),A=Object(f.a)(F,2),L=A[0],H=A[1],P=Object(r.useState)(void 0),R=Object(f.a)(P,2),z=R[0],W=R[1],q=Object(r.useState)(t.executionDropSpeed),V=Object(f.a)(q,2),B=V[0],_=V[1],G=Object(r.useState)(t.executionStartDate),K=Object(f.a)(G,2),J=K[0],Y=K[1],X=Object(r.useState)(),$=Object(f.a)(X,2),Q=$[0],Z=$[1],ee=Object(r.useState)(t.executionEndDate),te=Object(f.a)(ee,2),ne=te[0],re=te[1],ce=Object(r.useState)(),ae=Object(f.a)(ce,2),ie=ae[0],oe=ae[1],se=Object(r.useState)(t.executionCommentId),ue=Object(f.a)(se,2),le=ue[0],de=ue[1],je=Object(r.useState)(t.executionFreeComment),be=Object(f.a)(je,2),fe=be[0],xe=be[1],Oe=Object(r.useState)(t.executionAmount),pe=Object(f.a)(Oe,2),me=pe[0],ve=pe[1],he=Object(r.useState)(0),ye=Object(f.a)(he,2),Ie=ye[0],Se=ye[1],we=Object(r.useState)(t.endCommentId),Ce=Object(f.a)(we,2),ke=Ce[0],De=Ce[1],Ee=Object(r.useState)(t.endFreeComment),Ne=Object(f.a)(Ee,2),Te=Ne[0],Fe=Ne[1],Le=Object(r.useState)([]),He=Object(f.a)(Le,2),Me=He[0],Pe=He[1],Re=Object(r.useState)([]),ze=Object(f.a)(Re,2),We=ze[0],qe=ze[1],Ve=Object(r.useState)(!1),Be=Object(f.a)(Ve,2),_e=Be[0],Ge=Be[1],Ue=Object(r.useState)(""),Ke=Object(f.a)(Ue,2),Je=Ke[0],Ye=Ke[1],Xe=Object(r.useState)(!1),Qe=Object(f.a)(Xe,2),Ze=Qe[0],et=Qe[1],nt=Object(r.useState)(""),rt=Object(f.a)(nt,2),ct=rt[0],at=rt[1],it=Object(r.useState)(!1),st=Object(f.a)(it,2),ut=st[0],lt=st[1],dt=Object(r.useState)(""),jt=Object(f.a)(dt,2),bt=jt[0],ft=jt[1],Ot=Object(r.useState)(!1),pt=Object(f.a)(Ot,2),mt=pt[0],vt=pt[1],ht=Object(r.useState)(""),gt=Object(f.a)(ht,2),yt=gt[0],It=gt[1],St=Object(r.useState)(!1),wt=Object(f.a)(St,2),Ct=wt[0],kt=wt[1],Dt=Object(r.useState)(""),Et=Object(f.a)(Dt,2),Nt=Et[0],Tt=Et[1],Ft=Object(r.useState)(!1),At=Object(f.a)(Ft,2),Lt=At[0],Ht=At[1],Mt=Object(r.useState)(""),Pt=Object(f.a)(Mt,2),Rt=Pt[0],zt=Pt[1],Wt=Object(r.useState)(!1),qt=Object(f.a)(Wt,2),Vt=qt[0],Bt=qt[1],_t=Object(r.useState)(""),Gt=Object(f.a)(_t,2),Ut=Gt[0],Kt=Gt[1],Jt=function(){return 0===c.length||1===c.length&&c.some((function(e){return e.injectionExecutionId===l}))},Yt=function(e){var t,n={};if(c.length>0){var r=-1;if(0===l?r=c.length-1:c.some((function(e){return e.injectionExecutionId===l}))&&(r=c.findIndex((function(e){return e.injectionExecutionId===l}))-1),r>=0){if(!(n=c[r]).executionEndDate)return Bt(t=!0),Kt("\u524d\u306e\u5b9f\u65bd\u304c\u7d42\u4e86\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),!1;Bt(t=!1),Kt("")}}var a,i=0===N;Ge(i),Ye(i?"\u6295\u4e0e\u30eb\u30fc\u30c8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":""),null==J?(lt(a=!0),ft("\u5b9f\u65bd\u958b\u59cb\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002")):n!=={}&&"string"===typeof n.executionEndDate&&Object(xt.a)(new Date(J),new Date(n.executionEndDate))?(lt(a=!0),ft("\u5b9f\u65bd\u671f\u9593\u304c\u91cd\u8907\u3057\u3066\u3044\u307e\u3059\u3002")):Object(Ae.a)(new Date(J),new Date)?(lt(a=!0),ft("\u5b9f\u65bd\u958b\u59cb\u65e5\u6642\u306b\u672a\u6765\u65e5\u306f\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002")):(lt(a=!1),ft(""));var o=0===(null===Q||void 0===Q?void 0:Q.staffId);vt(o),It(o?"\u958b\u59cb\u8005\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"");var s,u,d="number"===typeof me&&me>9999.999;Ht(d),zt(d?"\u6295\u4e0e\u91cf\u306f\u3001\u6574\u65704\u30b1\u30bf\u3001\u5c0f\u65703\u30b1\u30bf\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002":""),e?(null!=ne||Jt?null!=ne&&null!=J&&Object(Ae.a)(new Date(J),new Date(ne))?(Bt(s=!0),Kt("\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642\u306b\u306f\u5b9f\u65bd\u958b\u59cb\u65e5\u6642\u4ee5\u964d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002")):null!=ne&&Object(Ae.a)(new Date(ne),new Date)?(Bt(s=!0),Kt("\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642\u306b\u672a\u6765\u65e5\u306f\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002")):(Bt(s=!1),Kt("")):(Bt(s=!0),Kt("\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002")),u=0===(null===ie||void 0===ie?void 0:ie.staffId)&&!!Jt,kt(u),Tt(u?"\u5b9f\u65bd\u7d42\u4e86\u8005\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"")):(null==ne?(Bt(s=!0),Kt("\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002")):null!=ne&&null!=J&&Object(Ae.a)(new Date(J),new Date(ne))?(Bt(s=!0),Kt("\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642\u306b\u306f\u5b9f\u65bd\u958b\u59cb\u65e5\u6642\u4ee5\u964d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002")):null!=ne&&Object(Ae.a)(new Date(ne),new Date)?(Bt(s=!0),Kt("\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642\u306b\u672a\u6765\u65e5\u306f\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002")):(Bt(s=!1),Kt("")),u=0===(null===ie||void 0===ie?void 0:ie.staffId),kt(u),Tt(u?"\u5b9f\u65bd\u7d42\u4e86\u8005\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":""));return!(t||i||a||o||d||s||u)};return Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("orders/injections/executes/drop",{searchParams:{reserveDate:o}}).json();case 3:t=e.sent,qe(t.executeCommentItems),Pe(t.endCommentItems),H(t.routeNestDatas),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error("error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[o]),Object(r.useEffect)((function(){var e;d(t.injectionExecutionId),T(t.injectionRouteMstId),W(null===(e=L.find((function(e){return e.itemId===t.injectionRouteMstId})))||void 0===e?void 0:e.value),_(t.executionDropSpeed),Y(t.executionStartDate),re(t.executionEndDate),de(t.executionCommentId),xe(t.executionFreeComment),ve(t.executionAmount);var n=0;c.forEach((function(e){e.executionAmount&&(n+=e.executionAmount)}));var r=i-n;Se(r>=0?r:0)}),[L,i,t,c]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(C.a,{component:"form",noValidate:!0,spacing:3,paddingLeft:"18px",sx:{flexGrow:1},children:Object(m.jsxs)(M.a,{container:!0,spacing:2,direction:"column",children:[Object(m.jsxs)(M.a,{item:!0,children:[Object(m.jsx)(k.a,{defaultValue:" ",error:_e,helperText:Je,id:"injectionRouteTextField",label:"\u6295\u4e0e\u30eb\u30fc\u30c8",variant:"filled",value:z,onClick:function(){I()},InputProps:{readOnly:!0}}),Object(m.jsx)(ge.a,{open:h,onClose:I,children:Object(m.jsx)($e,{nestListItemClickAction:function(e){T(e.itemId),W(e.value),I()},listDatas:L})})]}),Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(k.a,{error:Ze,className:"dropSpeed",id:"dropSpeedTextField",label:"\u70b9\u6ef4\u901f\u5ea6",variant:"outlined",type:"number",value:B,onChange:function(e){_(Number(e.target.value)<0?0:Number(e.target.value))},helperText:ct,InputProps:{endAdornment:Object(m.jsx)(U.a,{position:"end",children:"ml/\u6642\u9593"})}})}),Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(k.a,{label:"\u5b9f\u65bd\u958b\u59cb\u65e5\u6642",type:"datetime-local",error:ut,helperText:bt,value:J,sx:{width:250},InputLabelProps:{shrink:!0},onChange:function(e){Y(e.target.value)}})}),Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(ot,{label:"\u958b\u59cb\u8005",defaultStaffId:void 0!==t.executionStartId&&0!==t.executionStartId?t.executionStartId:x?Number(x.staffId):0,error:mt,helperText:yt,onChange:function(e){void 0!==e&&Z(e)}})}),Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(k.a,{label:"\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642",type:"datetime-local",error:Vt,helperText:Ut,value:ne,sx:{width:250},InputLabelProps:{shrink:!0},onChange:function(e){re(e.target.value)}})}),Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(ot,{label:"\u7d42\u4e86\u8005",error:Ct,helperText:Nt,onChange:function(e){void 0!==e&&oe(e)}})}),Object(m.jsxs)(M.a,{item:!0,children:[Object(m.jsx)(k.a,{className:"amount",error:Lt,helperText:Rt,id:"amountTextField",label:"\u6295\u4e0e\u91cf",variant:"outlined",type:"number",value:me,onChange:function(e){ve(Number(e.target.value))},InputProps:{endAdornment:Object(m.jsx)(U.a,{position:"end",children:"ml"})}}),Object(m.jsx)(D.a,{variant:"contained",onClick:function(){var e=void 0===B||0===B;et(e),at(e?"\u70b9\u6ef4\u901f\u5ea6\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"");var t=null==J;lt(t),ft(t?"\u5b9f\u65bd\u958b\u59cb\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"");var n=null==ne;Bt(n),Kt(n?"\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"");var r=null!=J&&null!=ne&&Object(Ae.a)(new Date(J),new Date(ne));if(null!=ne&&(Bt(r),Kt(r?"\u5b9f\u65bd\u7d42\u4e86\u65e5\u6642\u306b\u306f\u5b9f\u65bd\u958b\u59cb\u65e5\u6642\u4ee5\u964d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"")),!e&&!t&&!n&&!r&&"number"===typeof B&&"string"===typeof J&&"string"===typeof ne){var c=new Date(J).getTime()===new Date(ne).getTime()?0:(new Date(ne).getTime()-new Date(J).getTime())/1e3;ve(Number((B*(c/60/60)).toFixed(3)))}},children:"\u7528\u91cf\u8a08\u7b97"})]}),a&&Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(k.a,{className:"remainAmount",id:"remainAmountTextField",label:"\u6b8b\u91cf",variant:"outlined",type:"number",value:Ie,onChange:function(e){Se(Number(e.target.value))},InputProps:{endAdornment:Object(m.jsx)(U.a,{position:"end",children:"ml"}),readOnly:!0}})}),Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(tt.a,{freeSolo:!0,onChange:function(e,t){"string"===typeof t?(de(Number(0)),xe(t)):null!=t&&(de(Number(null===t||void 0===t?void 0:t.executeCommentId)),xe(null===t||void 0===t?void 0:t.content))},value:0!==le?We.find((function(e){return Number(e.executeCommentId)===le})):fe,options:We,getOptionLabel:function(e){return"string"===typeof e?e:e.content},renderInput:function(e){return Object(m.jsx)(k.a,Object(S.a)(Object(S.a)({},e),{},{label:"\u5b9f\u65bd\u30b3\u30e1\u30f3\u30c8"}))}})}),Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(tt.a,{freeSolo:!0,onChange:function(e,t){"string"===typeof t?(De(Number(0)),Fe(t)):null!=t&&(De(Number(null===t||void 0===t?void 0:t.executeCommentId)),Fe(null===t||void 0===t?void 0:t.content))},value:0!==ke?Me.find((function(e){return Number(e.executeCommentId)===ke})):Te,options:Me,getOptionLabel:function(e){return"string"===typeof e?e:e.content},renderInput:function(e){return Object(m.jsx)(k.a,Object(S.a)(Object(S.a)({},e),{},{label:"\u7d42\u4e86\u30b3\u30e1\u30f3\u30c8"}))}})}),Object(m.jsxs)(M.a,{item:!0,children:[Object(m.jsx)(D.a,{variant:"contained",color:"success",onClick:function(){if(Yt(!1)){var e={injectionExecutionId:l,executionStartDate:J,injectionRouteMstId:N,executionStartId:null===Q||void 0===Q?void 0:Q.staffId,executionEndDate:ne,executionEndId:null===ie||void 0===ie?void 0:ie.staffId,executionCommentId:le,executionFreeComment:fe,endCommentId:ke,endFreeComment:Te,executionAmount:me,executionDropSpeed:B};n(e,!1)}},children:"\u8ffd\u52a0"}),Object(m.jsx)(D.a,{variant:"contained",color:"success",onClick:function(){if(Yt(!0)){var e={injectionExecutionId:l,executionStartDate:J,injectionRouteMstId:N,executionStartId:null===Q||void 0===Q?void 0:Q.staffId,executionEndDate:ne,executionEndId:null===ie||void 0===ie?void 0:ie.staffId,executionCommentId:le,executionFreeComment:fe,endCommentId:ke,endFreeComment:Te,executionAmount:me,executionDropSpeed:B};n(e,!0)}},children:"\u7d42\u4e86\u8ffd\u52a0"})]})]})})})},pt=function(e){var t=e.execute,n=e.onClickDeleteButton,c=e.executes,a=e.isLastRow,i=e.injectionOrder,o=Object(r.useState)(!1),s=Object(f.a)(o,2),u=s[0],l=s[1],d=Object(r.useState)(t),j=Object(f.a)(d,2),b=j[0],x=j[1],O=function(){l(!u)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(W.a,{sx:{minWidth:275},children:[Object(m.jsxs)(P.a,{children:[Object(m.jsxs)(R.a,{sx:{fontSize:16},children:["\u958b\u59cb\u65e5\u6642\uff1a",void 0!==b.executionStartDate?Object(st.a)(new Date(b.executionStartDate),"yyyy/MM/dd HH:mm"):""]}),Object(m.jsxs)(R.a,{sx:{fontSize:16},children:["\u7d42\u4e86\u65e5\u6642\uff1a",void 0!==b.executionEndDate&&null!==b.executionEndDate?Object(st.a)(new Date(b.executionEndDate),"yyyy/MM/dd HH:mm"):""]}),Object(m.jsxs)(R.a,{sx:{fontSize:16},children:["\u901f\u5ea6\uff1a",b.executionDropSpeed]}),Object(m.jsxs)(R.a,{sx:{fontSize:16},children:["\u6295\u4e0e\u91cf\uff1a",b.executionAmount]}),Object(m.jsxs)(R.a,{sx:{fontSize:16},children:["\u30b3\u30e1\u30f3\u30c8\uff1a",b.executionFreeComment]})]}),a&&Object(m.jsxs)(M.a,{container:!0,children:[Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(X.a,{"aria-label":"delete",onClick:function(){n(t)},children:Object(m.jsx)(lt.a,{})})}),Object(m.jsxs)(M.a,{item:!0,children:[Object(m.jsx)(X.a,{"aria-label":"edit",onClick:O,children:Object(m.jsx)(jt.a,{})}),Object(m.jsxs)(ge.a,{open:u,onClose:O,children:[Object(m.jsx)(H.a,{sx:{flexGrow:1},children:Object(m.jsxs)(M.a,{container:!0,spacing:2,children:[Object(m.jsx)(M.a,{item:!0,xs:4,children:Object(m.jsx)(X.a,{onClick:O,children:Object(m.jsx)(ft.a,{})})}),Object(m.jsx)(M.a,{item:!0,xs:7,children:Object(m.jsx)(R.a,{sx:{fontSize:25},children:"\u70b9\u6ef4\u5c65\u6b74\u7de8\u96c6"})})]})}),Object(m.jsx)(re.a,{}),Object(m.jsx)(Ot,{defaultExecute:b,onInput:function(e){x(e),O()},executes:c,isShowRemainAmount:!1,totalAmount:i.totalAmount,reserveDate:i.reserveDate})]})]})]})]})})},mt={width:"100%",maxWidth:380,bgcolor:"background.paper"},vt=function(e){var t=e.dropItemList,n=e.deleteAction,r=e.injectionOrder;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(ee.a,{sx:mt,component:"nav",children:t.map((function(e){return Object(m.jsx)(ce.a,{children:Object(m.jsx)(pt,{execute:e,onClickDeleteButton:n,executes:t,isLastRow:t[t.length-1].injectionExecutionId===e.injectionExecutionId,injectionOrder:r})})}))})})},ht=n(440),gt=n(441),yt=function(e){var t=new Date,n=new Date(t.getFullYear(),e.getMonth()-1,e.getDate()),r=t.getFullYear()-e.getFullYear();return t<n&&(r-=1),r},It=function(e){var t=e.patient,n=e.cardActions,r=e.cardContent,c=e.displayContent,a=void 0!==c&&c,i=t?new Date(t.birthday):new Date,o=t?Object(st.a)(i,"yyyy/MM/dd"):"",s=t?"(".concat(yt(i).toString(),"\u6b73)"):"";return t?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(W.a,{variant:"outlined",children:[Object(m.jsx)(ht.a,{avatar:Object(m.jsx)(X.a,{"aria-label":"account",children:Object(m.jsx)(K.a,{fontSize:"large"})}),title:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(R.a,{variant:"h5",component:"div",children:"".concat(t.lastName," ").concat(t.firstName)}),Object(m.jsx)(R.a,{gutterBottom:!0,variant:"body1",component:"div",children:"ID:".concat(t.patientId)}),Object(m.jsx)(R.a,{gutterBottom:!0,variant:"body1",component:"div",children:"".concat(o," ").concat(s," ").concat(t.sex," ").concat(t.bloodType,"\u578b ").concat(t.rhFactor)})]})}),n&&Object(m.jsx)(z.a,{children:n}),r&&Object(m.jsx)(Ve.a,{in:a,timeout:"auto",unmountOnExit:!0,children:Object(m.jsx)(P.a,{children:r})})]})}):Object(m.jsx)(W.a,{variant:"outlined",children:Object(m.jsx)(ht.a,{title:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(gt.a,{sx:{margin:"auto"}})})})})},St=function(e){var t=e.patientId,n=e.cardActions,c=e.cardContent,a=e.displayContent,i=Object(r.useState)(void 0),o=Object(f.a)(i,2),s=o[0],u=o[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("patients/".concat(t)).json();case 3:n=e.sent,u(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error");case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}}),e,null,[[0,7,10,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(m.jsx)(It,{patient:s,cardActions:n,cardContent:c,displayContent:a})},wt=function(e){var t,n,c,a,i,o,s=e.patientId,u=e.injectionOrder,l=e.executes,d=e.deleteExecuteItem,j=Object(r.useState)(!1),b=Object(f.a)(j,2),x=b[0],O=b[1],p=Object(r.useState)(""),v=Object(f.a)(p,2),h=v[0],g=v[1],y=function(e){return h?h!==e?(g(e),void(x||O(!x))):void O(!x):(O(!x),void g(e))},I=Object(m.jsxs)(M.a,{container:!0,spacing:2,children:[Object(m.jsx)(M.a,{item:!0,xs:4,children:Object(m.jsx)(D.a,{size:"small",onClick:function(){return y("summary")},children:x&&"summary"===h?"\u30aa\u30fc\u30c0\u5185\u5bb9\u3092\u9589\u3058\u308b":"\u30aa\u30fc\u30c0\u5185\u5bb9\u3092\u8868\u793a"})}),Object(m.jsx)(M.a,{item:!0,xs:4,children:Object(m.jsx)(D.a,{size:"small",onClick:function(){return y("status")},children:x&&"status"===h?"\u53d7\u4ed8\u5185\u5bb9\u3092\u9589\u3058\u308b":"\u53d7\u4ed8\u5185\u5bb9\u3092\u8868\u793a"})}),2===(null===u||void 0===u?void 0:u.execType)&&Object(m.jsx)(M.a,{item:!0,xs:4,children:Object(m.jsx)(D.a,{size:"small",onClick:function(){return y("execute")},children:x&&"execute"===h?"\u5b9f\u65bd\u5185\u5bb9\u3092\u9589\u3058\u308b":"\u5b9f\u65bd\u5185\u5bb9\u3092\u8868\u793a"})})]}),S="\n  \u4f9d\u983c\u533b\uff1a".concat(null!==(t=null===u||void 0===u?void 0:u.issueStaffName)&&void 0!==t?t:"","\n  \u4f9d\u983c\u65e5\u6642\uff1a").concat(null!=(null===u||void 0===u?void 0:u.issueDate)?Object(st.a)(new Date(null===u||void 0===u?void 0:u.issueDate),"yyyy/MM/dd HH:mm"):"","\n  \u4ee3\u7406\u5165\u529b\u8005\uff1a").concat(null!==(n=null===u||void 0===u?void 0:u.departmentName)&&void 0!==n?n:"","\n  \u6307\u793a\u53d7\u8005\uff1a").concat(null!==(c=null===u||void 0===u?void 0:u.instructedName)&&void 0!==c?c:"","\n  \u6307\u793a\u53d7\u65e5\u6642\uff1a").concat(null!=(null===u||void 0===u?void 0:u.instructedDate)?Object(st.a)(new Date(null===u||void 0===u?void 0:u.instructedDate),"yyyy/MM/dd HH:mm"):"","\n  \u5b9f\u65bd\u8005\uff1a").concat(null!==(a=null===u||void 0===u?void 0:u.completeName)&&void 0!==a?a:"","\n  \u5b9f\u65bd\u65e5\u6642\uff1a").concat(null!=(null===u||void 0===u?void 0:u.completeDate)?Object(st.a)(new Date(null===u||void 0===u?void 0:u.completeDate),"yyyy/MM/dd HH:mm"):"","\n  \u30aa\u30fc\u30c0\u72b6\u614b\uff1a").concat(null!==(i=null===u||void 0===u?void 0:u.orderStatusName)&&void 0!==i?i:"","\n  \u4e88\u5b9a\u65e5\u6642\uff1a").concat(null!=(null===u||void 0===u?void 0:u.plansDate)?"99:99"===u.plansDate.substring(11)?Object(st.a)(new Date(null===u||void 0===u?void 0:u.plansDate.substring(0,10)),"yyyy/MM/dd \u672a\u5b9a"):Object(st.a)(new Date(null===u||void 0===u?void 0:u.plansDate),"yyyy/MM/dd HH:mm"):""),w=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(re.a,{}),Object(m.jsx)(P.a,{children:(o=h,"summary"===o?null===u||void 0===u?void 0:u.summary.split(/(\n)/).filter((function(e){return null===/\n/.exec(e)})).map((function(e){return Object(m.jsx)(R.a,{children:e})})):"status"===o?S.split(/(\n)/).filter((function(e){return null===/\n/.exec(e)})).map((function(e){return Object(m.jsx)(R.a,{children:e})})):"execute"===o&&null!=u&&d?Object(m.jsx)(vt,{dropItemList:l,deleteAction:d,injectionOrder:u}):null)})]});return Object(m.jsx)(St,{patientId:s,cardActions:I,cardContent:w,displayContent:x})},Ct=Object(de.a)(He.a)({position:"fixed",right:15,bottom:15}),kt=function(e){var t=e.injectionOrder,n=Object(u.h)(),c=g(),a=4!==(null===t||void 0===t?void 0:t.orderStatus),i=Object(r.useState)(!1),o=Object(f.a)(i,2),s=o[0],l=o[1],d=Object(r.useState)(!1),x=Object(f.a)(d,2),O=x[0],v=x[1],h=Object(r.useState)(0!==t.execList.length?t.execList[0]:{injectionExecutionId:0,executionStartId:0}),y=Object(f.a)(h,2),I=y[0],w=(y[1],Object(r.useState)([])),C=Object(f.a)(w,2),D=C[0],E=C[1],N=Object(r.useState)(void 0),T=Object(f.a)(N,2),F=T[0],A=T[1],L=Object(r.useState)(void 0),H=Object(f.a)(L,2),P=H[0],R=H[1],z=Object(r.useState)(!1),W=Object(f.a)(z,2),q=W[0],V=W[1],B=Object(r.useState)([]),_=Object(f.a)(B,2),G=_[0],K=_[1],J=function(){V(!q)},Y=Object(r.useState)(void 0),X=Object(f.a)(Y,2),$=X[0],Q=X[1],Z=Object(r.useState)(void 0),ee=Object(f.a)(Z,2),te=ee[0],ne=ee[1],re=Object(r.useState)(void 0),ce=Object(f.a)(re,2),ae=ce[0],ie=ce[1],oe=Object(r.useState)(),se=Object(f.a)(oe,2),ue=se[0],le=se[1],de=Object(r.useState)(void 0),je=Object(f.a)(de,2),be=je[0],fe=je[1],xe=Object(r.useState)(!1),Oe=Object(f.a)(xe,2),pe=Oe[0],me=Oe[1],ve=Object(r.useState)(""),he=Object(f.a)(ve,2),ye=he[0],Ie=he[1],Se=Object(r.useState)(!1),we=Object(f.a)(Se,2),Ce=we[0],ke=we[1],De=Object(r.useState)(""),Ee=Object(f.a)(De,2),Ne=Ee[0],Te=Ee[1],Fe=Object(r.useState)(!1),He=Object(f.a)(Fe,2),ze=He[0],qe=He[1],Ve=Object(r.useState)(""),Be=Object(f.a)(Ve,2),_e=Be[0],Ge=Be[1],Ue=Object(r.useState)(!1),Ke=Object(f.a)(Ue,2),Je=Ke[0],Ye=Ke[1],Xe=Object(r.useState)(""),Qe=Object(f.a)(Xe,2),et=Qe[0],tt=Qe[1],nt=function(){var e,t=0===$;me(t),Ie(t?"\u6295\u4e0e\u30eb\u30fc\u30c8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":""),null==te?(ke(e=!0),Te("\u5b9f\u65bd\u958b\u59cb\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002")):Object(Ae.a)(new Date(te),new Date)?(ke(e=!0),Te("\u5b9f\u65bd\u958b\u59cb\u65e5\u6642\u306b\u672a\u6765\u65e5\u306f\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002")):(ke(e=!1),Te(""));var n=0===(null===ue||void 0===ue?void 0:ue.staffId);qe(n),Ge(n?"\u958b\u59cb\u8005\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"");var r="number"===typeof be&&be>9999.999;Ye(r),tt(r?"\u6295\u4e0e\u91cf\u306f\u3001\u6574\u65704\u30b1\u30bf\u3001\u5c0f\u65703\u30b1\u30bf\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"");return!(t||e||n||r)};Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("orders/injections/executes/oneshot",{searchParams:{reserveDate:t.reserveDate}}).json();case 3:n=e.sent,E(n.executeCommentItems),K(n.routeNestDatas),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error("error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[t.reserveDate]),Object(r.useEffect)((function(){A(I.executionCommentId),R(I.executionFreeComment),Q(null===t||void 0===t?void 0:t.injectionRouteId),ie(null===t||void 0===t?void 0:t.injectionRouteName),ne(I.executionStartDate),fe(4===(null===t||void 0===t?void 0:t.orderStatus)?I.executionAmount:null===t||void 0===t?void 0:t.totalAmount)}),[t,I]);var rt=function(){var e=Object(b.a)(j.a.mark((function e(){var n,r,a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4===(null===t||void 0===t?void 0:t.orderStatus)){e.next=3;break}if(nt()){e.next=3;break}return e.abrupt("return");case 3:return a={injectionRouteMstId:$,executionStartDate:te,executionStartId:null===ue||void 0===ue?void 0:ue.staffId,executionCommentId:F,executionFreeComment:P,executionAmount:be},i={orderHeaderId:null!==(n=null===t||void 0===t?void 0:t.orderHeaderId)&&void 0!==n?n:0,version:null!==(r=null===t||void 0===t?void 0:t.version)&&void 0!==r?r:0,updateId:c?Number(c.staffId):0,end:!0,execList:4!==(null===t||void 0===t?void 0:t.orderStatus)?[a]:[]},e.next=7,Ze(i);case 7:e.sent?l(!0):v(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Me.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:s}),Object(m.jsx)(Pe.a,{open:s,autoHideDuration:6e3,onClose:function(){l(!1),n(-1)},children:Object(m.jsx)(Re.a,{onClose:function(){l(!1),n(-1)},severity:"success",sx:{width:"100%"},children:4!==(null===t||void 0===t?void 0:t.orderStatus)?"\u5b9f\u65bd\u60c5\u5831\u3092\u767b\u9332\u3057\u307e\u3057\u305f\u3002":"\u5b9f\u65bd\u53d6\u6d88\u3092\u884c\u3044\u307e\u3057\u305f\u3002"})}),Object(m.jsx)(Pe.a,{open:O,autoHideDuration:6e3,onClose:function(){v(!1)},children:Object(m.jsx)(Re.a,{onClose:function(){v(!1)},severity:"error",sx:{width:"100%"},children:"\u5b9f\u65bd\u60c5\u5831\u306e\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"})}),Object(m.jsxs)(Ct,{variant:"extended",color:"primary","aria-label":"add-button",onClick:rt,children:[Object(m.jsx)(We.a,{sx:{mr:1}}),0===(null===t||void 0===t?void 0:t.execList.length)?"\u78ba\u5b9a":"\u5b9f\u65bd\u53d6\u6d88"]}),Object(m.jsx)(wt,{patientId:t.patientId,injectionOrder:t,executes:t.execList}),Object(m.jsxs)(M.a,{container:!0,spacing:2,direction:"column",children:[Object(m.jsxs)(M.a,{item:!0,children:[Object(m.jsx)(k.a,{defaultValue:" ",disabled:!a,error:pe,helperText:ye,id:"injectionRouteTextField",label:"\u6295\u4e0e\u30eb\u30fc\u30c8",variant:"filled",value:ae,onClick:function(){J()},InputProps:{readOnly:!0}}),Object(m.jsx)(ge.a,{open:q,onClose:J,children:Object(m.jsx)($e,{nestListItemClickAction:function(e){Q(e.itemId),ie(e.value),J()},listDatas:G})})]}),Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(k.a,{label:"\u5b9f\u65bd\u958b\u59cb\u65e5\u6642",type:"datetime-local",error:Ce,disabled:!a,helperText:Ne,value:te,sx:{width:250},InputLabelProps:{shrink:!0},onChange:function(e){ne(e.target.value)}})}),Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(ot,{label:"\u958b\u59cb\u8005",defaultStaffId:void 0!==I.executionStartId&&0!==I.executionStartId?I.executionStartId:c?Number(c.staffId):0,error:ze,helperText:_e,onChange:function(e){void 0!==e&&le(e)}})}),Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(k.a,{error:Je,helperText:et,id:"amountTextField",label:"\u6295\u4e0e\u91cf",variant:"outlined",type:"number",disabled:!a,value:be,onChange:function(e){fe(Number(e.target.value))},InputProps:{endAdornment:Object(m.jsx)(U.a,{position:"end",children:"ml"})}})}),Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(Le.a,{freeSolo:!0,disabled:!a,onChange:function(e,t){"string"===typeof t?(A(Number(0)),R(t)):null!=t&&(A(Number(null===t||void 0===t?void 0:t.executeCommentId)),R(null===t||void 0===t?void 0:t.content))},value:0!==F?D.find((function(e){return Number(e.executeCommentId)===F})):P,options:D,getOptionLabel:function(e){return"string"===typeof e?e:e.content},renderInput:function(e){return Object(m.jsx)(k.a,Object(S.a)(Object(S.a)({},e),{},{label:"\u5b9f\u65bd\u30b3\u30e1\u30f3\u30c8"}))}})})]})]})},Dt=n(15),Et=Object(de.a)(He.a)({position:"fixed",right:15,bottom:15}),Nt=function(e){var t=e.injectionOrder,n=Object(u.h)(),c=g(),a=Object(r.useState)(4===t.orderStatus),i=Object(f.a)(a,2),o=i[0],s=i[1],l=Object(r.useState)(t.execList),d=Object(f.a)(l,2),x=d[0],O=d[1],p=Object(r.useState)(!1),v=Object(f.a)(p,2),h=v[0],y=v[1],I=Object(r.useState)(!1),S=Object(f.a)(I,2),w=S[0],C=S[1],k=function(){var e=Object(b.a)(j.a.mark((function e(){var n,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={orderHeaderId:null!==(n=null===t||void 0===t?void 0:t.orderHeaderId)&&void 0!==n?n:0,version:null!==(r=null===t||void 0===t?void 0:t.version)&&void 0!==r?r:0,updateId:c?Number(c.staffId):0,end:o,execList:4!==(null===t||void 0===t?void 0:t.orderStatus)?x:[]},e.next=3,Ze(a);case 3:e.sent?y(!0):C(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Me.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:h}),Object(m.jsx)(Pe.a,{open:h,autoHideDuration:6e3,onClose:function(){y(!1),n(-1)},children:Object(m.jsx)(Re.a,{onClose:function(){y(!1),n(-1)},severity:"success",sx:{width:"100%"},children:4!==(null===t||void 0===t?void 0:t.orderStatus)?"\u5b9f\u65bd\u60c5\u5831\u3092\u767b\u9332\u3057\u307e\u3057\u305f\u3002":"\u5b9f\u65bd\u53d6\u6d88\u3092\u884c\u3044\u307e\u3057\u305f\u3002"})}),Object(m.jsx)(Pe.a,{open:w,autoHideDuration:6e3,onClose:function(){C(!1)},children:Object(m.jsx)(Re.a,{onClose:function(){C(!1)},severity:"error",sx:{width:"100%"},children:"\u5b9f\u65bd\u60c5\u5831\u306e\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"})}),Object(m.jsxs)(Et,{variant:"extended",color:"primary","aria-label":"add-button",onClick:k,children:[Object(m.jsx)(We.a,{sx:{mr:1}}),4!==(null===t||void 0===t?void 0:t.orderStatus)?"\u78ba\u5b9a":"\u5b9f\u65bd\u53d6\u6d88"]}),Object(m.jsxs)(M.a,{container:!0,spacing:2,direction:"column",children:[Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(wt,{patientId:t.patientId,injectionOrder:t,executes:x,deleteExecuteItem:function(e){O((function(t){return t.filter((function(t){return t!==e}))})),s(!1)}})}),Object(m.jsx)(M.a,{item:!0}),Object(m.jsx)(Ot,{defaultExecute:{injectionExecutionId:0,executionStartId:0,executionEndId:0,executionDropSpeed:0},onInput:function(e,t){O((function(t){return[].concat(Object(Dt.a)(t),[e])})),s(t)},executes:x,totalAmount:t.totalAmount,isShowRemainAmount:!0,reserveDate:t.reserveDate})]})]})},Tt=function(){var e=g(),t=Object(u.h)(),n=Object(u.i)(),c=n.patientId,a=n.orderHeaderId,i=Object(r.useState)(),o=Object(f.a)(i,2),s=o[0],l=o[1],d=Object(r.useState)(void 0),x=Object(f.a)(d,2),O=x[0],v=x[1],h=Object(r.useState)(!1),y=Object(f.a)(h,2),I=y[0],S=y[1],w=Object(r.useCallback)(Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("orders/injections",{searchParams:{orderHeaderId:Number(a)}}).json();case 3:t=e.sent,l(function(){if(!t)return v("\u30aa\u30fc\u30c0\u3092\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3002"),!1;if(t.patientId!==c)return v("\u60a3\u8005\u60c5\u5831\u304c\u4e00\u81f4\u3057\u307e\u305b\u3093\u3002"),!1;if("injection"!==t.mainClass)return v("\u6ce8\u5c04\u30aa\u30fc\u30c0\u3092\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3002"),!1;if("\u672a\u53d7\u4ed8"===t.orderStatusName)return v("\u3053\u306e\u30aa\u30fc\u30c0\u306f\u53d7\u4ed8\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),!1;if(5===t.orderStatus)return v("\u3053\u306e\u30aa\u30fc\u30c0\u306f\u4e2d\u6b62\u3055\u308c\u3066\u3044\u307e\u3059\u3002"),!1;if(!t.executableFutureDay){var e=new Date(t.preferredDate);if(Object(Ae.a)(e,new Date))return v("\u672a\u6765\u65e5\u306f\u5b9f\u65bd\u3067\u304d\u307e\u305b\u3093\u3002"),!1}return 1!==t.instructedStatus||(t.forcingInstracted?(S(!0),!0):(v("\u6307\u793a\u53d7\u3051\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u5b9f\u65bd\u306f\u884c\u3048\u307e\u305b\u3093\u3002"),!1))}()?t:void 0),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error("error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[a,c]);if(Object(r.useEffect)((function(){w()}),[w]),!s)return Object(m.jsx)("p",{children:O});var C=function(){var t=Object(b.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.put("orders/injections",{json:{orderHeaderId:n.orderHeaderId,userId:null===e||void 0===e?void 0:e.staffId,patientId:n.patientId},timeout:!1}).json();case 3:r=t.sent,l(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert("error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Z,{onDrawerToggle:function(){console.log(123)}}),Object(m.jsx)(Ne,{dialogOpen:I,message:"\u6307\u793a\u53d7\u3051\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n        \u6307\u793a\u53d7\u3051\u3092\u884c\u3044\u307e\u3059\u304b\uff1f",onClickCancel:function(){t(-1)},onClickOK:Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(s);case 2:case"end":return e.stop()}}),e)}))),onClose:function(){S(!1)}}),2===s.execType?Object(m.jsx)(Nt,{injectionOrder:s}):Object(m.jsx)(kt,{injectionOrder:s})]})},Ft=n(195),At=n.n(Ft),Lt=n(73),Ht=n(411),Mt=n(406),Pt=n(443),Rt=n(143),zt=n.n(Rt),Wt=function(e){var t,n=e.patientId,c=e.summary,a=e.status,i=e.executes,o=Object(r.useState)(!1),s=Object(f.a)(o,2),u=s[0],l=s[1],d=Object(r.useState)(""),j=Object(f.a)(d,2),b=j[0],x=j[1],O=function(e){return b?b!==e?(x(e),void(u||l(!u))):void l(!u):(l(!u),void x(e))},p=Object(m.jsxs)(M.a,{container:!0,spacing:2,children:[Object(m.jsx)(M.a,{item:!0,xs:4,children:Object(m.jsx)(D.a,{size:"small",onClick:function(){return O("summary")},children:u&&"summary"===b?"\u30aa\u30fc\u30c0\u5185\u5bb9\u3092\u9589\u3058\u308b":"\u30aa\u30fc\u30c0\u5185\u5bb9\u3092\u8868\u793a"})}),Object(m.jsx)(M.a,{item:!0,xs:4,children:Object(m.jsx)(D.a,{size:"small",onClick:function(){return O("status")},children:u&&"status"===b?"\u53d7\u4ed8\u5185\u5bb9\u3092\u9589\u3058\u308b":"\u53d7\u4ed8\u5185\u5bb9\u3092\u8868\u793a"})}),Object(m.jsx)(M.a,{item:!0,xs:4,children:Object(m.jsx)(D.a,{size:"small",onClick:function(){return O("execute")},children:u&&"execute"===b?"\u5b9f\u65bd\u5185\u5bb9\u3092\u9589\u3058\u308b":"\u5b9f\u65bd\u5185\u5bb9\u3092\u8868\u793a"})})]}),v=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(re.a,{}),Object(m.jsx)(P.a,{children:(t=b,"summary"===t?c.split(/(\n)/).filter((function(e){return null===/\n/.exec(e)})).map((function(e,t){return Object(m.jsx)(R.a,{children:e},"summary-".concat(String(t)))})):"status"===t?a.split(/(\n)/).filter((function(e){return null===/\n/.exec(e)})).map((function(e,t){return Object(m.jsx)(R.a,{children:e},"status-".concat(String(t)))})):"execute"===t?i.map((function(e){return Object(m.jsxs)(W.a,{variant:"outlined",children:[Object(m.jsx)(ht.a,{avatar:e.isExecuteTarget?Object(m.jsx)(X.a,{"aria-label":"execute",children:Object(m.jsx)(zt.a,{fontSize:"medium"})}):Object(m.jsx)(X.a,{"aria-label":"execute",sx:{opacity:0},children:Object(m.jsx)(zt.a,{fontSize:"medium"})}),title:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(R.a,{variant:"h5",component:"div",children:e.formulationName},e.formulationName)})}),Object(m.jsx)(P.a,{children:(t=e,"\u88fd\u9020\u756a\u53f7\uff1a".concat(t.formulationNo,"\n  \u4f7f\u7528\u65e5\uff1a").concat(t.executeDate,"\n  \u5b9f\u65bd\u8005\uff1a").concat(t.executeStaffName,"\n  \u5b9f\u65bd\u533a\u5206\uff1a").concat(t.executeTypeName,"\n  \u30d5\u30a3\u30eb\u30bf\uff1a").concat(t.filterTypeName,"\n  \u526f\u4f5c\u7528\uff1a").concat(t.sideEffectNames,"\n  ")).split(/(\n)/).filter((function(e){return null===/\n/.exec(e)})).map((function(e,t){return Object(m.jsx)(R.a,{children:e},"content-".concat(String(t)))}))})]},e.formulationNo);var t})):null)})]});return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(St,{patientId:n,cardActions:p,cardContent:v,displayContent:u})})},qt=function(e){var t=e.patientId,n=e.summary,r=e.status,c=e.executes;return Object(m.jsx)(Wt,{patientId:t,summary:n,status:r,executes:c})},Vt=function(e){var t=e.issueName,n=e.deputeIssueName,r=e.issueDate,c=e.auditName,a=e.auditDate,i=function(e){return 2===e?"\u672a\u5b9f\u65bd":3===e?"\u5b9f\u65bd\u4e2d":4===e?"\u5b9f\u65bd\u5b8c\u4e86":""}(e.orderStatus);return"\u4f9d\u983c\u533b\uff1a".concat(t,"\n    \u4ee3\u7406\u5165\u529b\u8005\uff1a").concat(n,"\n    \u4f9d\u983c\u65e5\u6642\uff1a").concat(r,"\n    \u5b9f\u65bd\u8005\uff1a").concat(c,"\n    \u5b9f\u65bd\u65e5\u6642\uff1a").concat(a,"\n    \u30aa\u30fc\u30c0\u72b6\u614b\uff1a").concat(i,"\n    ").replaceAll("null","")},Bt=function(e){var t=e.execTypeItems,n=e.handleOnChange,r=e.defaultExecuteType,c=e.label,a=void 0===c?"":c,i=e.error,o=e.helperText;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(et.a,{error:i,children:[Object(m.jsx)(Ht.a,{id:"exec-type-label",children:a}),Object(m.jsx)(Mt.a,{labelId:"exec-type-label",id:"exec-type",label:"\u5b9f\u65bd\u533a\u5206",value:r,onChange:function(e){return n(e.target.value)},sx:{width:250},children:t.map((function(e){return Object(m.jsx)(Pt.a,{value:e.value,children:e.name},e.value)}))}),Object(m.jsx)(nt.a,{children:o})]})})},_t=function(e){var t=e.value,n=e.label,c=e.onChange,a=e.error,i=e.helperText,o=e.displayExecuteTypes,s=void 0===o?["DELIVERY","EXECUTE","RETURN"]:o,u=Object(r.useState)([]),l=Object(f.a)(u,2),d=l[0],x=l[1];Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("orders/transfusions/executes/types").json();case 3:t=e.sent,n=t.executeTypes.filter((function(e){return s.findIndex((function(t){return t===e.type}))>-1})),x(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error");case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}}),e,null,[[0,8,11,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[s]);return Object(m.jsx)(Bt,{execTypeItems:d,handleOnChange:function(e){var t=d.find((function(t){return String(t.value)===e}));c&&c(t)},defaultExecuteType:String(t),label:n,error:a,helperText:i})},Gt=n(420),Ut=n(407),Kt={PaperProps:{style:{maxHeight:224,width:250}}},Jt=function(e){var t=e.items,n=e.label,r=e.values,c=void 0===r?[]:r,a=e.onChange,i=function(e,t){return t.map((function(t){return e.find((function(e){return e.value===t}))||{name:"",value:0}})).filter((function(e){return e.value})).map((function(e){return e.name}))}(t,c);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(et.a,{sx:{m:1,width:300},children:[Object(m.jsx)(Ht.a,{id:"multiple-checkbox-label",children:n}),Object(m.jsx)(Mt.a,{labelId:"multiple-checkbox-label",id:"multiple-checkbox",multiple:!0,value:c,onChange:function(e){var n=e.target.value,r="string"===typeof n?[n]:n.slice().sort();if(a){var c=t.filter((function(e){return r.findIndex((function(t){return t===e.value}))>-1}));a(c)}},input:Object(m.jsx)(Gt.a,{label:"Tag"}),renderValue:function(e){return i.join(", ")},MenuProps:Kt,children:t.map((function(e){return Object(m.jsxs)(Pt.a,{value:e.value,children:[Object(m.jsx)(Ut.a,{checked:c.findIndex((function(t){return t===e.value}))>-1}),Object(m.jsx)(ie.a,{primary:e.name})]},e.name)}))})]})})},Yt=function(e){var t=e.items,n=e.label,r=void 0===n?"":n,c=e.values,a=void 0===c?[]:c,i=e.onChange;return Object(m.jsx)(Jt,{items:t,label:r,values:a,onChange:i})},Xt=function(e){var t=e.items,n=e.label,r=e.sideEffectIds,c=e.onChange;return Object(m.jsx)(Yt,{items:t,label:n,values:r,onChange:c})},$t=function(e){var t=e.label,n=void 0===t?"":t,c=e.sideEffectIds,a=void 0===c?[]:c,i=e.onChange,o=Object(r.useState)([]),s=Object(f.a)(o,2),u=s[0],l=s[1],d=Object(r.useState)([]),x=Object(f.a)(d,2),O=x[0],v=x[1];Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("orders/transfusions/executes/side-effects").json();case 3:t=e.sent,l(t.sideEffects),v(t.sideEffects.map((function(e){return{name:e.sideEffectName,value:String(e.sideEffectMstId)}}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error");case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}}),e,null,[[0,8,11,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);return Object(m.jsx)(Xt,{items:O,label:n,sideEffectIds:a?a.map((function(e){return String(e)})):[],onChange:function(e){var t=u.filter((function(t){return e.findIndex((function(e){return Number(e.value)===t.sideEffectMstId}))>-1}));i&&i(t)}})},Qt=n(444),Zt=n(405),en=n(391),tn=n(422),nn=n(403),rn=n(423),cn=n(194),an=n.n(cn),on=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(r.useState)(e),n=Object(f.a)(t,2),c=n[0],a=n[1],i=Object(r.useCallback)((function(){return a(!0)}),[]),o=Object(r.useCallback)((function(){return a(!1)}),[]),s=Object(r.useCallback)((function(){return a((function(e){return!e}))}),[]);return{isOpen:c,open:i,close:o,toggle:s}},sn=function(e){var t=e.options,n=e.onClick,c=e.defaultSelectedIndex,a=void 0===c?0:c,i=e.fixed,o=void 0===i||i,s=e.right,u=void 0===s?15:s,l=e.bottom,d=void 0===l?15:l,j=on(),b=j.isOpen,x=j.toggle,O=j.close,p=Object(r.useRef)(null),v=Object(r.useState)(a),h=Object(f.a)(v,2),g=h[0],y=h[1],I=o?{position:"fixed",right:u,bottom:d}:void 0,w=function(e){p.current&&p.current.contains(e.target)||O()};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(Qt.a,{sx:I,variant:"contained",ref:p,children:[Object(m.jsx)(D.a,{size:"large",onClick:function(){n(g)},children:t[g]}),Object(m.jsx)(D.a,{size:"small",onClick:function(){x()},children:Object(m.jsx)(an.a,{})})]}),Object(m.jsx)(Zt.a,{open:b,anchorEl:p.current,transition:!0,disablePortal:!0,children:function(e){var n=e.TransitionProps,r=e.placement;return Object(m.jsx)(en.a,Object(S.a)(Object(S.a)({},n),{},{style:{transformOrigin:"bottom"===r?"center top":"center bottom"},children:Object(m.jsx)(tn.a,{children:Object(m.jsx)(nn.a,{onClickAway:w,children:Object(m.jsx)(rn.a,{id:"split-button-menu",children:t.map((function(e,t){return Object(m.jsx)(Pt.a,{selected:t===g,onClick:function(e){return function(e,t){y(t),O()}(0,t)},children:e},e)}))})})})}))}})]})},un=function(e){var t=e.options,n=e.onClick,r=e.defaultSelectedIndex,c=e.fixed,a=e.right,i=e.bottom;return Object(m.jsx)(sn,{options:t,onClick:n,defaultSelectedIndex:r,fixed:c,right:a,bottom:i})},ln=T.b({executeDate:T.c().required("\u5b9f\u65bd\u65e5\u6642\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),executeStaffId:T.a().required("\u5b9f\u65bd\u8005\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),executeType:T.c().required("\u5b9f\u65bd\u533a\u5206\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),filterType:T.c().required("\u30d5\u30a3\u30eb\u30bf\u533a\u5206\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002")}),dn=function(e){var t,n,c=e.transfusionOrder,a=e.deliveryFormulation,i=e.handleExecute,o=a.formulationName,s=a.formulationNo,u=a.formulationCode,l=Object(r.useState)(0),d=Object(f.a)(l,2),j=(d[0],d[1]),b=Vt(c),x=c.content.deliveryFormulations.map((function(e){return function(e,t,n){var r=e.formulationCode,c=e.formulationNo,a=e.formulationName,i=r===n&&c===t,o=e.execute;return o?{isExecuteTarget:i,formulationName:a,formulationNo:c,executeDate:o.executeDate,executeStaffName:o.executeStaffName,executeTypeName:o.executeTypeName,filterTypeName:o.filterTypeName,sideEffectNames:o.sideEffects.map((function(e){return e.sideEffectName})).join(",")}:{isExecuteTarget:i,formulationName:a,formulationNo:c,executeDate:"",executeStaffName:"",executeTypeName:"",filterTypeName:"",sideEffectNames:""}}(e,s,u)})),O=a.execute,p=Object(E.e)({resolver:Object(N.a)(ln),defaultValues:{executeDate:O?O.executeDate:"",executeStaffId:O?O.executeStaffId:0,executeType:O?O.executeType:1,filterType:O?O.filterType:1,sideEffectIds:O?O.sideEffects.map((function(e){return e.sideEffectMstId})):[]}}),v=p.register,h=p.handleSubmit,g=p.control,y=p.formState.errors,I=function(e){var t=e.executeDate,n=e.executeStaffId,r=e.executeType,c=e.filterType,a=e.sideEffectIds;i({executeDate:t,executeStaffId:n,executeType:r,filterType:c,sideEffectIds:a})};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(C.a,{component:"form",noValidate:!0,spacing:3,paddingTop:"25px",sx:{flexGrow:1},children:[Object(m.jsx)(qt,{patientId:c.patientId,summary:c.summary,status:b,executes:x}),Object(m.jsx)(k.a,{disabled:!0,id:"formuration-name",label:"\u88fd\u5264\u540d",variant:"filled",defaultValue:o,InputProps:{readOnly:!0}}),Object(m.jsx)(k.a,{disabled:!0,id:"formuration-number",label:"\u88fd\u5264\u756a\u53f7",variant:"filled",defaultValue:s,InputProps:{readOnly:!0}}),Object(m.jsx)(k.a,Object(S.a)({id:"exec-date",label:"\u4f7f\u7528\u65e5\u6642",type:"datetime-local",defaultValue:Object(st.a)(new Date,"yyyy-MM-dd'T'HH:mm"),sx:{width:250},InputLabelProps:{shrink:!0},error:"executeDate"in y,helperText:null===(t=y.executeDate)||void 0===t?void 0:t.message},v("executeDate"))),Object(m.jsx)(E.a,{control:g,name:"executeStaffId",render:function(e){var t,n=e.field,r=n.onChange,c=n.value;return Object(m.jsx)(ot,{label:"\u5b9f\u65bd\u8005",defaultStaffId:c,onChange:function(e){return r(null===e||void 0===e?void 0:e.staffId)},error:"executeStaffId"in y,helperText:null===(t=y.executeStaffId)||void 0===t?void 0:t.message})}}),Object(m.jsx)(E.a,{control:g,name:"executeType",render:function(e){var t,n=e.field,r=n.onChange,c=n.value;return Object(m.jsx)(_t,{label:"\u5b9f\u65bd\u533a\u5206",displayExecuteTypes:["EXECUTE","RETURN"],onChange:function(e){return r(null===e||void 0===e?void 0:e.value)},value:c,error:"executeType"in y,helperText:null===(t=y.executeType)||void 0===t?void 0:t.message})}}),Object(m.jsxs)(et.a,{error:"filterType"in y,children:[Object(m.jsx)(Ht.a,{id:"filter-use-flg-label",children:"\u30d5\u30a3\u30eb\u30bf"}),Object(m.jsxs)(Mt.a,Object(S.a)(Object(S.a)({labelId:"filter-use-flg-label",id:"filter-use-flg",label:"\u30d5\u30a3\u30eb\u30bf",defaultValue:1,sx:{width:250}},v("filterType")),{},{children:[Object(m.jsx)(Pt.a,{value:1,children:"\u4f7f\u7528"}),Object(m.jsx)(Pt.a,{value:2,children:"\u672a\u4f7f\u7528"})]})),Object(m.jsx)(nt.a,{children:null===(n=y.filterType)||void 0===n?void 0:n.message})]}),Object(m.jsx)(E.a,{control:g,name:"sideEffectIds",render:function(e){var t=e.field,n=t.value,r=t.onChange;return Object(m.jsx)($t,{label:"\u526f\u4f5c\u7528",sideEffectIds:n,onChange:function(e){r(e.map((function(e){return e.sideEffectMstId})))}})}}),Object(m.jsx)(un,{options:["\u5b9f\u65bd\u5165\u529b","\u5b9f\u65bd\u5165\u529b\u3057\u3066\u30aa\u30fc\u30c0\u5b8c\u4e86"],fixed:!0,right:15,bottom:15,onClick:function(e){j(e),h(I)}})]})})},jn=function(e){var t=e.patientId,n=void 0===t?"2730":t,c=e.formulationCode,a=void 0===c?"0393012":c,i=e.formulationNo,o=void 0===i?"123456":i,s=Object(r.useState)(void 0),u=Object(f.a)(s,2),l=u[0],d=u[1],x=Object(r.useState)(void 0),O=Object(f.a)(x,2),v=O[0],h=O[1],g=Object(r.useState)(!1),y=Object(f.a)(g,2),I=y[0],S=y[1];Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,p.get("orders/transfusions",{searchParams:{patientId:n,formulationCode:a,formulationNo:o}}).json();case 4:t=e.sent,d(t.transfusionOrder),t.transfusionOrder&&(r=t.transfusionOrder.content.deliveryFormulations,c=r.find((function(e){return e.formulationCode===a&&e.formulationNo===o})),h(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error");case 12:return e.prev=12,S(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[n,a,o]);var w=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,c,i,s,u,d,b,f;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return n=l.orderHeaderId,r=l.orderStatus,c=l.version,i=t.executeDate,s=t.executeStaffId,u=t.executeType,d=t.filterType,b=t.sideEffectIds,f={orderHeaderId:n,version:c,orderStatus:r,updateStaffId:10008,execute:{formulationCode:a,formulationNo:o,executeDate:i,executeStaffId:s,executeType:u,filterType:d,sideEffectIds:b}},e.prev=5,e.next=8,p.patch("orders/transfusions",{json:f,timeout:!1}).json();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),alert("error");case 13:return e.prev=13,alert("finally"),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[5,10,13,16]])})));return function(t){return e.apply(this,arguments)}}();return I?Object(m.jsx)(H.a,{sx:{display:"flex"},children:Object(m.jsx)(gt.a,{})}):l&&v?Object(m.jsx)(dn,{transfusionOrder:l,deliveryFormulation:v,handleExecute:w}):Object(m.jsxs)(C.a,{component:"form",noValidate:!0,spacing:0,paddingTop:"25px",sx:{flexGrow:1},children:[Object(m.jsxs)(H.a,{sx:{display:"flex"},children:[Object(m.jsx)(At.a,{sx:{color:Lt.a[500]}}),Object(m.jsx)(R.a,{children:"\u30aa\u30fc\u30c0\u304c\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002"})]}),Object(m.jsxs)(R.a,{children:["\u60a3\u8005ID\uff1a",n]}),Object(m.jsxs)(R.a,{children:["\u88fd\u5264\u30b3\u30fc\u30c9\uff1a",a]}),Object(m.jsxs)(R.a,{children:["\u88fd\u5264\u756a\u53f7\uff1a",o]})]})},bn=function(e){var t=e.drawerOpen,n=e.patientId,r=e.formurationCode,c=e.formurationNumber,a=e.dialogOpen,i=e.toggleDrawer,o=e.onLogout,s=e.onScan,u=e.setDialogOpen,l=e.transit;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Z,{onDrawerToggle:i}),Object(m.jsx)(me,{drawerOpen:t,toggleDrawer:i,onOpen:o}),Object(m.jsx)(ke,{alertOpen:a,message:"\u60a3\u8005ID\uff1a".concat(n,"\n      \u88fd\u5264\u30b3\u30fc\u30c9\uff1a").concat(r,"\n      \u88fd\u5264\u756a\u53f7\uff1a").concat(c),toggleAlert:function(){u(!1)},onEmpty:function(){u(!1),l()}}),Object(m.jsx)(H.a,{paddingTop:"25px",sx:{flexGrow:1},children:Object(m.jsxs)(M.a,{container:!0,spacing:2,children:[Object(m.jsx)(M.a,{item:!0,xs:12,children:Object(m.jsx)(k.a,{id:"patient-id",label:"\u60a3\u8005ID",color:"success",value:n,focused:!!n,InputProps:{startAdornment:Object(m.jsx)(U.a,{position:"start",children:Object(m.jsx)(K.a,{})})},fullWidth:!0})}),Object(m.jsx)(M.a,{item:!0,xs:6,children:Object(m.jsx)(k.a,{id:"formuration-code",label:"\u88fd\u5264\u30b3\u30fc\u30c9",color:"success",value:r,focused:!!r,fullWidth:!0})}),Object(m.jsx)(M.a,{item:!0,xs:6,children:Object(m.jsx)(k.a,{id:"formuration-number",label:"\u88fd\u5264\u756a\u53f7",color:"success",value:c,focused:!!c,fullWidth:!0})}),Object(m.jsx)(M.a,{item:!0,xs:12,children:Object(m.jsx)(De,{onScan:s})})]})})]})},fn=function(){var e=Object(r.useState)(!1),t=Object(f.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),i=Object(f.a)(a,2),o=i[0],s=i[1],l=Object(r.useState)(""),d=Object(f.a)(l,2),j=d[0],b=d[1],x=Object(r.useState)(""),O=Object(f.a)(x,2),p=O[0],v=O[1],h=Object(r.useState)(""),g=Object(f.a)(h,2),I=g[0],S=g[1],w=Object(r.useState)(!1),C=Object(f.a)(w,2),k=C[0],D=C[1],E=y(),N=Object(u.h)();return Object(r.useEffect)((function(){o?j?p||v(I):b(I):s(I)}),[I]),Object(r.useEffect)((function(){o&&j&&p&&D(!0)}),[j,p,o]),Object(m.jsx)(bn,{drawerOpen:n,toggleDrawer:function(){return c(!n)},onLogout:function(){return E()},patientId:o,formurationCode:j,formurationNumber:p,onScan:function(e){S(e)},dialogOpen:k,setDialogOpen:D,transit:function(){return N("/transfusion")}})},xn=n(196),On=function(e){var t=e.error.message;return Object(m.jsxs)(w.a,{children:[Object(m.jsx)(R.a,{variant:"h4",gutterBottom:!0,component:"div",children:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002"}),Object(m.jsx)(R.a,{variant:"h5",gutterBottom:!0,component:"div",children:t}),Object(m.jsx)(D.a,{variant:"contained",onClick:function(){return window.location.assign(window.location.origin)},children:"\u30e1\u30cb\u30e5\u30fc\u306b\u623b\u308b"})]})},pn=function(e){var t=e.children;return Object(m.jsx)(xn.ErrorBoundary,{FallbackComponent:On,children:Object(m.jsx)(I,{children:t})})},mn=function(){var e=null!=g(),t=on(),n=t.isOpen,r=t.open,c=t.toggle;return e?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Z,{onDrawerToggle:c}),Object(m.jsx)(me,{drawerOpen:n,toggleDrawer:c,onOpen:r}),Object(m.jsx)(u.b,{})]}):Object(m.jsx)(u.a,{to:"/login"})},vn=function(){var e=g();return(null===e||void 0===e?void 0:e.loggedIn)?Object(m.jsx)(u.a,{to:"/main"}):Object(m.jsx)(L,{})},hn=function(){return Object(m.jsx)(pn,{children:Object(m.jsx)(l.a,{basename:"",children:Object(m.jsxs)(u.e,{children:[Object(m.jsxs)(u.c,{path:"/",element:Object(m.jsx)(mn,{}),children:[Object(m.jsx)(u.c,{path:"/",element:Object(m.jsx)(Fe,{})}),Object(m.jsx)(u.c,{path:"/barcode",element:Object(m.jsx)(De,{})}),Object(m.jsx)(u.c,{path:"/main",element:Object(m.jsx)(G,{})}),Object(m.jsx)(u.c,{path:"/injectionexecutedrop",element:Object(m.jsx)(Tt,{})}),Object(m.jsx)(u.c,{path:"/injectionexecute/:patientId/:orderHeaderId",element:Object(m.jsx)(Tt,{})}),Object(m.jsx)(u.c,{path:"/transfusioncheck",element:Object(m.jsx)(fn,{})}),Object(m.jsx)(u.c,{path:"/transfusion",element:Object(m.jsx)(jn,{})})]}),Object(m.jsx)(u.c,{path:"/login",element:Object(m.jsx)(vn,{}),children:Object(m.jsx)(u.c,{path:"/login",element:Object(m.jsx)(L,{})})})]})})})};(function(){})(),i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(hn,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");o?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):s(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):s(t,e)}))}}()}},[[341,1,2]]]);
//# sourceMappingURL=main.54557a68.chunk.js.map